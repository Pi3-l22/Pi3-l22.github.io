<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Neo4j on Pi3&#39;Notes</title>
    <link>https://blog.pi3.fun/tags/neo4j/</link>
    <description>Recent content in Neo4j on Pi3&#39;Notes</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <managingEditor>622.511.liuchao@gmail.com (LiuChao)</managingEditor>
    <webMaster>622.511.liuchao@gmail.com (LiuChao)</webMaster>
    <lastBuildDate>Fri, 24 Nov 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.pi3.fun/tags/neo4j/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Neo4j安装与使用</title>
      <link>https://blog.pi3.fun/post/2023/11/neo4j%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/</link>
      <pubDate>Fri, 24 Nov 2023 00:00:00 +0000</pubDate>
      <author>622.511.liuchao@gmail.com (LiuChao)</author>
      <guid>https://blog.pi3.fun/post/2023/11/neo4j%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/</guid>
      
      <description>&lt;p&gt;&lt;a href=&#34;https://juejin.cn/s/neo4j%E8%8F%9C%E9%B8%9F%E6%95%99%E7%A8%8B&#34;&gt;Neo4j菜鸟教程&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.w3cschool.cn/neo4j/&#34;&gt;Neo4j教程&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.cnblogs.com/lijiong/p/15867307.html&#34;&gt;Neo4j的命令行操作&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;安装&#34;&gt;安装&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://neo4j.com/download/&#34;&gt;Neo4j官网下载地址&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124200925.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;在Windows上下载桌面版，在Linux服务器上下载服务器版&lt;/p&gt;
&lt;p&gt;下载好，一直下一步安装即可。&lt;/p&gt;
&lt;h2 id=&#34;简单入门&#34;&gt;简单入门&lt;/h2&gt;
&lt;p&gt;点击创建一个新的项目文件&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124200939.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;添加一个新的图形数据库&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124200951.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;启动数据库&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201003.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;点击右侧应用工具，打开Neo4j浏览器&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201003.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;成功链接到数据库，在最上面的命令行中，我们可以执行CQL语句
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201014.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;我们可以通过以下语句创建 &lt;font color=&#34;#ed9ddf&#34;&gt;杭州电子科技大学&lt;/font&gt; 和 &lt;font color=&#34;#ed9ddf&#34;&gt;计算机学院&lt;/font&gt; 节点&lt;/p&gt;
&lt;p&gt;标签分别为 &lt;font color=&#34;#9bbb59&#34;&gt;大学&lt;/font&gt; 和 &lt;font color=&#34;#9bbb59&#34;&gt;学院&lt;/font&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;create(:&amp;#34;大学&amp;#34;{name:&amp;#34;杭州电子科技大学&amp;#34;})
create(:&amp;#34;学院&amp;#34;{name:&amp;#34;计算机学院&amp;#34;})
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201020.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;通过以下语句，来将这两个节点进行关系链接&lt;/p&gt;
&lt;p&gt;&lt;font color=&#34;#548dd4&#34;&gt;语法格式&lt;/font&gt;为：链接两个节点p1 p2，创p1-&amp;gt;p2的关系为 &lt;strong&gt;院系&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(p1:`大学`),(p2:`学院`) Create(p1)-[r:院系]-&amp;gt;(p2)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201025.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;简单案例&#34;&gt;简单案例&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-ad-summary&#34; data-lang=&#34;ad-summary&#34;&gt;创建一个简单的股票知识图谱，包括;
1. 建立几只股票的节点
2. 建立上海证券交易所和深圳证券交易所两个节点
3. 建立省市地方名称的节点
4. 建立股票和证券交易所关系
5. 建立股票和省市名称关系
&lt;/code&gt;&lt;/pre&gt;&lt;ol&gt;
&lt;li&gt;&lt;font color=&#34;#ed9ddf&#34;&gt;建立几只股票节点&lt;/font&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;==创建一个节点的Cypher命令==&lt;/p&gt;
&lt;p&gt;&lt;code&gt;create(变量:标签{属性1:属性值1,属性2:属性值2}) return 变量&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;create(Variable:Lable{key1:Value1,Key2:Value2}) return Variable&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;
-- 创建一个股票节点
create(n:Stock{name:&amp;#39;安琪酵母&amp;#39;,code:&amp;#39;600298&amp;#39;,launchidate:date(&amp;#34;2000-08-18&amp;#34;)})return n

-- 可以一次创建多个股票节点
create(n:Stock{name:&amp;#39;招商银行&amp;#39;,code:&amp;#39;600036&amp;#39;,launchidate:date(&amp;#34;2002-04-09&amp;#34;)}),(:Stock{name:&amp;#39;中科创达&amp;#39;,code:&amp;#39;300496&amp;#39;,launchidate:date(&amp;#34;2015-12-08&amp;#34;)}),(:Stock{name:&amp;#39;化工科技&amp;#39;,code:&amp;#39;000988&amp;#39;,launchidate:date(&amp;#34;2000-06-18&amp;#34;)}),(:Stock{name:&amp;#39;国信证券&amp;#39;,code:&amp;#39;002736&amp;#39;,launchidate:date(&amp;#34;2014-12-29&amp;#34;)})
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;按照上方的步骤，创建一个新的股票图形数据库。&lt;/p&gt;
&lt;p&gt;打开图数据库，输入上方语句进行创建节点
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201040.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;font color=&#34;#ed9ddf&#34;&gt;建立上海证券交易所和深圳证券交易所两个节点&lt;/font&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;create(n:SecuritiesExchange{name:&amp;#39;上海证券交易所&amp;#39;}),(:SecuritiesExchange{name:&amp;#39;深圳证券交易所&amp;#39;}) return n
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;font color=&#34;#ed9ddf&#34;&gt;建立省市地方名称的节点&lt;/font&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;create(n:Province{name:&amp;#39;湖北&amp;#39;}),(:Province{name:&amp;#39;北京&amp;#39;}),(:Province{name:&amp;#39;广东&amp;#39;}) return n
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201053.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;&lt;font color=&#34;#ed9ddf&#34;&gt;建立股票和证券交易所关系&lt;/font&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;创建股票节点‘安琪酵母’和证券交易所节点‘上海证券交易所’的关系  Exchange&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(a:Stock),(b:SecuritiesExhcange) where a.name=&amp;#39;安琪酵母&amp;#39; and b.name=&amp;#39;上海证券交易所&amp;#39; create(a)-[r:Exchange]-&amp;gt;(b) return r
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;同样用这个方法可创建其他股票节点和证券交易所节点的关系
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201108.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;&lt;font color=&#34;#ed9ddf&#34;&gt;建立股票和省市名称关系&lt;/font&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;创建股票节点‘安琪酵母’和省市‘湖北’的关系  Area&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(a:Stock),(b:Province) where a.name = &amp;#39;安琪酵母&amp;#39; and b.name = &amp;#39;湖北&amp;#39; create (a)-[r:Area]-&amp;gt;(b) return r
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201108.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;命令行操作总结&#34;&gt;命令行操作总结&lt;/h2&gt;
&lt;h3 id=&#34;创建一个节点&#34;&gt;创建一个节点&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;create(n:Stock{name:&amp;#39;安琪酵母&amp;#39;,code:&amp;#39;600298&amp;#39;,launchDate:date(&amp;#39;2000-08-18&amp;#39;)}) return n
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;创建多个节点&#34;&gt;创建多个节点&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;create(n:Stock{name:&amp;#39;招商银行&amp;#39;,code:&amp;#39;600036&amp;#39;,launchDate:date(&amp;#39;2002-04-09&amp;#39;)}),
(:Stock{name:&amp;#39;中科创达&amp;#39;,code:&amp;#39;300496&amp;#39;,launchDate:date(&amp;#39;2015-12-10&amp;#39;)}),
(:Stock{name:&amp;#39;华工科技&amp;#39;,code:&amp;#39;000988&amp;#39;,launchDate:date(&amp;#39;2000-06-09&amp;#39;)}),
(:Stock{name:&amp;#39;国信证券&amp;#39;,code:&amp;#39;002736&amp;#39;,launchDate:date(&amp;#39;2014-12-29&amp;#39;)})
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;create(n:SecuritiesExchange{name:&amp;#39;上海证券交易所&amp;#39;}),(:SecuritiesExchange{name:&amp;#39;深圳证券交易所&amp;#39;})
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;create(n:Province{name:&amp;#39;北京&amp;#39;}),(:Province{name:&amp;#39;湖北&amp;#39;}),(:Province{name:&amp;#39;广东&amp;#39;})
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;建立关系&#34;&gt;建立关系&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(a:Stock),(b:SecuritiesExchange) where a.name = &amp;#39;安琪酵母&amp;#39; and b.name = &amp;#39;上海证券交易所&amp;#39; create (a)-[r:Exchange]-&amp;gt;(b) return r
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(a:Stock),(b:Province) where a.name = &amp;#39;安琪酵母&amp;#39; and b.name = &amp;#39;湖北&amp;#39; create (a)-[r:Area]-&amp;gt;(b) return r
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;查询某个节点&#34;&gt;查询某个节点&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(a:Stock) where a.name = &amp;#39;安琪酵母&amp;#39; return a
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201121.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;查询某个标签的所有节点&#34;&gt;查询某个标签的所有节点&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(a:Stock) return a
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201535.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;查询某个标签的节点个数&#34;&gt;查询某个标签的节点个数&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(a:Stock) return count(a)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201204.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;查询两个节点之间的关系类型&#34;&gt;查询两个节点之间的关系类型&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(:Stock{name:&amp;#39;安琪酵母&amp;#39;})-[r]-&amp;gt;(:Province{name:&amp;#39;湖北&amp;#39;}) return type(r)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201757.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;查询某个节点所有的关系&#34;&gt;查询某个节点所有的关系&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match a = ()-[]-&amp;gt;(:Province{name:&amp;#39;湖北&amp;#39;}) return a
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201358.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;查询某个节点所有的关系类型&#34;&gt;查询某个节点所有的关系类型&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(:Stock{name:&amp;#39;安琪酵母&amp;#39;})-[r]-&amp;gt;() return type(r)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201420.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;删除某个节点&#34;&gt;删除某个节点&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(a:Stock) where a.name = &amp;#39;中科创达&amp;#39; delete a
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;[!attention]
删除节点之前，必须删除和节点相关的所有关系，不然会报错&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;删除某个标签的所有节点&#34;&gt;删除某个标签的所有节点&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(n:Stock) delete n
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;删除所有节点&#34;&gt;删除所有节点&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(n) delete n
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;删除两个节点之间的关系&#34;&gt;删除两个节点之间的关系&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(:Stock{name:&amp;#39;安琪酵母&amp;#39;})-[r]-&amp;gt;(:Province{name:&amp;#39;湖北&amp;#39;}) delete r
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;删除某个节点的所有关系&#34;&gt;删除某个节点的所有关系&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(:Stock{name:&amp;#39;安琪酵母&amp;#39;})-[r]-&amp;gt;() delete r
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;删除某个标签的所有关系&#34;&gt;删除某个标签的所有关系&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(:Stock)-[r]-&amp;gt;() delete r
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;增加节点的属性&#34;&gt;增加节点的属性&lt;/h3&gt;
&lt;p&gt;set子句&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(a:Stock) where a.name = &amp;#39;安琪酵母&amp;#39; set a.abbreviation = &amp;#39;AQJM&amp;#39; return a
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;删除节点的属性&#34;&gt;删除节点的属性&lt;/h3&gt;
&lt;p&gt;remove子句&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match(a:Stock) where a.name = &amp;#39;安琪酵母&amp;#39; remove a.abbreviation return a
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;查询某个节点有关的节点和关系&#34;&gt;查询某个节点有关的节点和关系&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match (m)-[r]-(n:Stock{name:&amp;#39;安琪酵母&amp;#39;}) return m,r,n
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;删除某个节点有关的节点和关系&#34;&gt;删除某个节点有关的节点和关系&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;match (m)-[r]-(n:Stock{name:&amp;#39;安琪酵母&amp;#39;}) delete m,r,n
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;neo4j-server安装与使用&#34;&gt;Neo4j Server安装与使用&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://neo4j.com/download/&#34;&gt;Neo4j官网下载地址&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;下载Neo4j community server版本，同时需要JDK环境&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-ad-note&#34; data-lang=&#34;ad-note&#34;&gt;Server 和 desktop版本的区别在于：
desktop拥有良好的可视化，具有跟桌面应用程序一样的操作，可以方便管理多个数据库。
而server则是大量使用命令行来执行CQL语句，同时也可以打开浏览器界面，与desktop的界面是一样的。
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;添加Neo4j/bin为环境变量&lt;/p&gt;
&lt;p&gt;&lt;code&gt;neo4j.bat console&lt;/code&gt; Windows环境下，打开命令行界面，同时打开本地网络图形化界面&lt;/p&gt;
&lt;p&gt;&lt;code&gt;neo4j install-server&lt;/code&gt; 安装服务&lt;/p&gt;
&lt;h3 id=&#34;数据库本地管理&#34;&gt;数据库本地管理&lt;/h3&gt;
&lt;p&gt;Neo4j安装成功后，会默认安装两个数据库，System和Neo4j&lt;/p&gt;
&lt;p&gt;在system中，可以进行数据库的管理，用户的管理，完成一些设置等等&lt;/p&gt;
&lt;p&gt;&lt;code&gt;neo4j start&lt;/code&gt; 启动&lt;/p&gt;
&lt;p&gt;&lt;code&gt;neo4j stop&lt;/code&gt; 关闭&lt;/p&gt;
&lt;h3 id=&#34;用户管理&#34;&gt;用户管理&lt;/h3&gt;
&lt;p&gt;在bin目录下，使用&lt;code&gt;cypher-shell&lt;/code&gt;连接数据库执行&lt;code&gt;cypher&lt;/code&gt;命令&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;cypher-shell -d neo4j[数据库名称]
-- 需要输入用户名和密码，登录
-- 进入数据库中之后，就可以执行CQL语句进行操作

match(n) return n;  -- 查询数据库中所有节点
:help  -- 查看当前数据库可以用的指令
:use system  -- 使用system数据库

show databases;  -- 查看所有数据库（只能在system下操作）

:exit  -- 退出数据库命令行
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;在system下，对于用户进行管理的操作
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201842.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;-- 添加用户
CALL dbm.security.createUser(name,password,requirePasswordChange密码改变);
-- 示例
CALL dbm.security.createUser(&amp;#39;john&amp;#39;,&amp;#39;123456&amp;#39;,true);

-- 列出所有用户
CALL dbms.security.listUsers();
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;数据库的备份和恢复&#34;&gt;数据库的备份和恢复&lt;/h3&gt;
&lt;p&gt;Neo4j数据库的备份和恢复可以在线或者离线进行&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;neo4j-admin -h dump/load # 使用帮助
neo4j stop  # 先停止服务

1. 离线备份
neo4j-admin dump --database=&amp;lt;database&amp;gt; --to=&amp;lt;destination-path&amp;gt;
示例：
neo4j-admin dump --database=neo4j --to=C:\\desktop\\neo4jdata

2. 离线恢复
neo4j-admin load --from=&amp;lt;archive-path&amp;gt; --databse=&amp;lt;database&amp;gt; [--force]存在覆盖
示例：
neo4j-admin load --from=C:\\desktop\\neo4jdata --databse=neo4j --force
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;在neo4j中批量创建节点和关系&#34;&gt;在Neo4j中批量创建节点和关系&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://cloud.tencent.com/developer/article/1387710&#34;&gt;neo4j进阶操作（四）neo4j导入csv，使用load导入csv文件进入neo4j&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;在desktop中用csv文件导入批量创建节点&#34;&gt;在desktop中用CSV文件导入批量创建节点&lt;/h3&gt;
&lt;p&gt;CSV文件中的数据，用于演示，实际上数据可以很多&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201901.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;把我们需要导入的CSV数据文件，拷贝到Neo4j的数据目录下
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201910.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;在数据目录下对应数据库的import目录下
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201920.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;在Neo4j Browser中执行导入命令&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;load CSV with headers from &amp;#39;file:///Stocks.csv&amp;#39; as line
create (:Stock{code:line.code,name:line.name,id:line.id})
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124201939.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;查看节点，导入成功
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202011.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-ad-warning&#34; data-lang=&#34;ad-warning&#34;&gt;如果导入的数据中出现中文乱码的问题，说明是CSV文件的编码问题，把CSV的编码格式改成UTF-8格式
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;在desktop中用csv文件导入批量创建关系&#34;&gt;在desktop中用CSV文件导入批量创建关系&lt;/h3&gt;
&lt;p&gt;创建股票和证券交易所的关系，先建立CSV文件：（股票代码）（证券交易所id）
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202018.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;同样拷贝到import文件夹中&lt;/p&gt;
&lt;p&gt;在Neo4j Browser中执行导入命令&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;load CSV with headers from &amp;#39;file:///segx.csv&amp;#39; as line
match (from:Stock{code:line.stock_code}),(to:SecuritiesExchange{id:line.exchange_id})
merge (from)-[r:Exchange]-&amp;gt;(to)
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-ad-tip&#34; data-lang=&#34;ad-tip&#34;&gt;这里一直显示(no changes, no records)
原因在于，这里的交易所节点是之前创建的，在创建的时候并没有设置ID属性，所以在设置关系的时候，并不能以id的方式进行查找匹配节点。
在交易所节点中，属性只有name一个，所以应该用name，或者在交易所节点中增加id属性。
所以在添加关系的时候，应该检查每个节点属性是否匹配
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;把上诉关系数据文件，改为以code和name进行索引，代码也改为：
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202024.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cypher&#34; data-lang=&#34;cypher&#34;&gt;load CSV with headers from &amp;#39;file:///segx.csv&amp;#39; as line
match (from:Stock{code:line.code}),(to:SecuritiesExchange{name:line.name})
merge (from)-[r:Exchange]-&amp;gt;(to)
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-ad-warning&#34; data-lang=&#34;ad-warning&#34;&gt;这里还有一个坑点：
用excel编辑CSV格式的文件是，在Windows下默认保存为Unicode格式，而在Neo4j导入数据的过程中是需要用到UTF-8的格式。所以需要用记事本打开，另存为UTF-8格式。

如果不更改这个格式时，那么导入中文时会乱码，同时属性名可能不能匹配。上面显示(no changes, no records)也是有这样一个原因
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;完成上面两个关键的步骤，终于可以进行导入
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202029.png&#34; alt=&#34;&#34;&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202034.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;在远程server中用csv文件导入批量创建节点和关系常用&#34;&gt;在远程Server中用CSV文件导入批量创建节点和关系（常用）&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/haveanybody/article/details/90518235&#34;&gt;Neo4j笔记（三）Neo4j批量导入数据_neo4j 批量导入数据-CSDN博客&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这里远程Server的load导入操作，与本地的desktop的load导入操作基本相同。&lt;/p&gt;
&lt;p&gt;远程Server的导入，可以利用Browser进行图形化界面，也可以利用命令行操作。可以利用load操作，也可以利用neo4j-import进行导入
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202048.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;远程启动Neo4j Server &lt;code&gt;neo4j start&lt;/code&gt; &lt;code&gt;neo4j console&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;可以浏览器访问&lt;code&gt;http:本机ip:显示端口&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;我们也可以用本地neo4j desktop 操作远程的neo4j server
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202054.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;输入服务的IP地址和端口
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202101.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;再输入用户名和密码，即可连接。接下里的导入操作，与desktop的操作是一摸一样的。&lt;/p&gt;
&lt;p&gt;这样就可以直接操作远程的数据库&lt;/p&gt;
&lt;h2 id=&#34;neo4j的python操作&#34;&gt;Neo4j的Python操作&lt;/h2&gt;
&lt;h3 id=&#34;在远程服务器上安装并创建neo4j&#34;&gt;在远程服务器上安装并创建Neo4j&lt;/h3&gt;
&lt;p&gt;对于Neo4j 4版本 需要有JDK11的环境，而对于Neo4j 5版本，需要有JDK17/21的环境
先安装JDK11，再安装Neo4j，并配置环境变量。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;neo4j console&lt;/code&gt; 启动服务（前台）&lt;/p&gt;
&lt;p&gt;&lt;code&gt;neo4j start&lt;/code&gt; 启动服务（后台）&lt;/p&gt;
&lt;p&gt;&lt;code&gt;neo4j stop&lt;/code&gt; 停止服务&lt;/p&gt;
&lt;p&gt;通过本地浏览器登录
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202109.png&#34; alt=&#34;&#34;&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202114.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;接着我们可以使用本地的desktop进行远程的数据库连接&lt;/p&gt;
&lt;p&gt;输入数据库远程地址和端口号，输入数据库名称
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202122.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;输入用户名和密码，并登录连接
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202127.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;成功打开远程数据库，图形化界面
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202133.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;利用python读取excel数据创建节点&#34;&gt;利用Python读取excel数据创建节点&lt;/h3&gt;
&lt;p&gt;python导入：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/weixin_38737326/article/details/119170899&#34;&gt;Neo4j入门（二）批量插入节点、关系_neo4j批量创建关系-CSDN博客&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&#34;background:#fff88f&#34;&gt;1. 数据准备，在深圳证券交易所官网下载股票列表Excel文件&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.szse.cn/market/product/stock/list/index.html&#34;&gt;http://www.szse.cn/market/product/stock/list/index.html&lt;/a&gt;
&lt;img src=&#34;res/Pasted%20image%2020231106222659.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;当然也直接使用Python代码，进行下载，下载连接为：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.szse.cn/api/report/ShowReport?SHOWTYPE=xlsx&amp;amp;CATALOGID=1110&amp;amp;TABKEY=tab1&amp;amp;random=0.410442009042401&#34;&gt;http://www.szse.cn/api/report/ShowReport?SHOWTYPE=xlsx&amp;amp;CATALOGID=1110&amp;amp;TABKEY=tab1&amp;amp;random=0.410442009042401&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-Python&#34; data-lang=&#34;Python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;urllib&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;request&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 下载Excel文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;DownloadExcel&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;url&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;down_path&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;A股列表.xlsx&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;request&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;urlretrieve&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;url&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;down_path&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;url&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;http://www.szse.cn/api/report/ShowReport?SHOWTYPE=xlsx&amp;amp;CATALOGID=1110&amp;amp;TABKEY=tab1&amp;amp;random=0.410442009042401&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;DownloadExcel&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;url&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;得到一个A股列表Excel文件
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202144.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&#34;background:#fff88f&#34;&gt;2. 用Python读取Excel文件数据，在Python中使用Cypher命令，在Neo4j中批量建立节点&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://pypi.org/project/py2neo/&#34;&gt;py2neo · PyPI&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/81175725&#34;&gt;py2neo基本用法&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://segmentfault.com/a/1190000040519140&#34;&gt;python - 使用Py2neo在Neo4j中创建节点和关系&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/362709226&#34;&gt;Python&amp;ndash;pandas读取excel&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/363810440&#34;&gt;Python读写Excel——Pandas&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;接着编写Python代码，实现读取文件数据，并通过Cypher语句写入到数据库中去。这里使用远程Neo4j Server版本。&lt;/p&gt;
&lt;p&gt;这里我使用的是py2neo的第三方库，远程Neo4j版本为4.4.2&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-ad-warning&#34; data-lang=&#34;ad-warning&#34;&gt;需要注意的是：
![](https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202200.png)
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# from urllib import request&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 下载Excel文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# def DownloadExcel(url):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;#     down_path = &amp;#39;A股列表.xlsx&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;#     request.urlretrieve(url, down_path)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# url = &amp;#39;http://www.szse.cn/api/report/ShowReport?SHOWTYPE=xlsx&amp;amp;CATALOGID=1110&amp;amp;TABKEY=tab1&amp;amp;random=0.410442009042401&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# DownloadExcel(url)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;pandas&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;pd&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;py2neo&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Graph&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;Node&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;Relationship&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;NodeMatcher&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;RelationshipMatcher&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;Subgraph&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 读取Excel文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ReadExcel&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;read_path&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;A股列表.xlsx&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;pd&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;read_excel&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;io&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;read_path&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a90d91&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 连接Neo4j&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;url&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;bolt://serverIP:port&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;username&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;neo4j&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;password&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;password&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Graph&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;url&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;auth&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;username&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;password&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;neo4j info: &lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;format&lt;/span&gt;(&lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 创建节点&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;s_time&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;node_count&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#1c01ce&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ReadExcel&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;总数据量：&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;len&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;)&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;A股&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#1c01ce&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#a90d91&#34;&gt;len&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;)):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;Plate&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;板块&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;FullName&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;公司全称&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;EnName&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;英文名称&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;Address&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;注册地址&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;Code&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;A股代码&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;ShortName&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;A股简称&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;Date&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;A股上市日期&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;Area&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;地      区&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;Province&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;省    份&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;City&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;城     市&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;Industry&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;所属行业&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#177500&#34;&gt;# print(type(Plate))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;Cypher&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;merge(:&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;Plate:&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Plate&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;,FullName:&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;FullName&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;,EnName:&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;EnName&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;,Address:&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Address&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;,Code:&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Code&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;,ShortName:&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;ShortName&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;,Date:&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Date&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;,Area:&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Area&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;,Province:&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Province&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;,City:&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;,Industry:&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Industry&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#177500&#34;&gt;# node = Node(label, Plate=Plate, FullName=FullName, EnName=EnName, Address=Address, Code=Code, ShortName=ShortName, Date=Date, Area=Area, Province=Province, City=City, Industry=Industry)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#177500&#34;&gt;# Graph.create(node)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;run&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;Cypher&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;node_count&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#1c01ce&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;节点数量：&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;node_count&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;e_time&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;创建节点耗时：&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;e_time&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;s_time&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;s&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;再次登上浏览器的图形化界面，发现已经创建成功
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231124202243.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/Dreag/Py2neo-translate&#34;&gt;Py2neo V4 中文文档&lt;/a&gt; 官方链接已失效&lt;/p&gt;
&lt;p&gt;利用子图创建节点和关系&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;py2neo&lt;/span&gt;  &lt;span style=&#34;color:#a90d91&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Node&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;Relationship&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;Graph&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;Subgraph&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Graph&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;http://localhost:7474&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;auth&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;neo4j&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;123456&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Node&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Person&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Alice&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;b&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Node&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Person&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Bob&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Node&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Person&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Jim&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;d&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Node&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Person&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Nacy&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;nodes&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Subgraph&lt;/span&gt;([&lt;span style=&#34;color:#000&#34;&gt;a&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;b&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;d&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;create&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;nodes&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;a&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;nodes&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;match&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Person&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Alice&amp;#34;&lt;/span&gt;)&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;first&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;b&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;nodes&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;match&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Person&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Bob&amp;#34;&lt;/span&gt;)&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;first&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;nodes&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;match&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Person&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Jim&amp;#34;&lt;/span&gt;)&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;first&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;d&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;nodes&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;match&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Person&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Nacy&amp;#34;&lt;/span&gt;)&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;first&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;rel_a&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Relationship&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;a&lt;/span&gt;,&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;likes&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;b&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;rel_b&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Relationship&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;b&lt;/span&gt;,&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;likes&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;a&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;rel_c&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Relationship&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;,&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;likes&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;d&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;rel_d&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Relationship&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;d&lt;/span&gt;,&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;likes&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;A&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Subgraph&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;relationships&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;rel_a&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;rel_b&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;rel_c&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;rel_d&lt;/span&gt;])   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;create&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;A&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/qiang12qiang12/article/details/127692314&#34;&gt;Py2neo:一种快速导入百万数据到Neo4j的方式_python 导入neo4j 节点id-CSDN博客&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;根据上方A股列表的数据，重新编写代码，创建实体节点和关系&lt;/p&gt;
&lt;p&gt;遇到的问题：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;创建节点的属性，必须是字符串类型的，不然会报错。DataFrame读出来的数据有可能会是int或者numint64类型，需要进行转换&lt;/li&gt;
&lt;li&gt;创建关系时进行节点的查找匹配十分耗时，所以可以采用子图的形式进行创建 (查询节点和关系很费时间)&lt;/li&gt;
&lt;li&gt;没有报错，但是创建不出来关系，就需要检查匹配条件是否正确，不正确的话匹配不到节点，就不能创建关系&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;完整代码：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;pandas&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;pd&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;py2neo&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Graph&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;Node&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;Relationship&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;NodeMatcher&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;RelationshipMatcher&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;Subgraph&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 读取Excel文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ReadExcel&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;read_path&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;A股列表.xlsx&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;pd&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;read_excel&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;io&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;read_path&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a90d91&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 连接Neo4j&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;url&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;bolt://serverIP:port&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;username&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;neo4j&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;password&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;password&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Graph&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;url&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;auth&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;username&lt;/span&gt;,&lt;span style=&#34;color:#000&#34;&gt;password&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;nodes&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;NodeMatcher&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;neo4j info: &lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;format&lt;/span&gt;(&lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 清空数据库&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;delete_all&lt;/span&gt;()  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 数据处理&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;s_time&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;node_count&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#1c01ce&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ReadExcel&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;总数据量：&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;len&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;)&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;A股&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;plate_set&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;set&lt;/span&gt;({})  &lt;span style=&#34;color:#177500&#34;&gt;# 板块集合&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;area_set&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;set&lt;/span&gt;({})  &lt;span style=&#34;color:#177500&#34;&gt;# 地区集合&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;province_set&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;set&lt;/span&gt;({})  &lt;span style=&#34;color:#177500&#34;&gt;# 省份集合&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;city_set&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;set&lt;/span&gt;({})  &lt;span style=&#34;color:#177500&#34;&gt;# 城市集合&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;industry_set&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;set&lt;/span&gt;({})  &lt;span style=&#34;color:#177500&#34;&gt;# 行业集合&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;relationships_list&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;nodes_list&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#1c01ce&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#a90d91&#34;&gt;len&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;)):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a90d91&#34;&gt;dict&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Plate&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;板块&amp;#39;&lt;/span&gt;]),      &lt;span style=&#34;color:#177500&#34;&gt;# 需要转成字符串，否则会报错&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;FullName&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;公司全称&amp;#39;&lt;/span&gt;]),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;EnName&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;英文名称&amp;#39;&lt;/span&gt;]),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Address&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;注册地址&amp;#39;&lt;/span&gt;]),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Code&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;A股代码&amp;#39;&lt;/span&gt;]),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;ShortName&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;A股简称&amp;#39;&lt;/span&gt;]),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Date&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;A股上市日期&amp;#39;&lt;/span&gt;]),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Area&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;地      区&amp;#39;&lt;/span&gt;]),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Province&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;省    份&amp;#39;&lt;/span&gt;]),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;City&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;城     市&amp;#39;&lt;/span&gt;]),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Industry&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;所属行业&amp;#39;&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;plate_set&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;板块&amp;#39;&lt;/span&gt;]))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;area_set&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;地      区&amp;#39;&lt;/span&gt;]))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;province_set&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;省    份&amp;#39;&lt;/span&gt;]))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;city_set&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;城     市&amp;#39;&lt;/span&gt;]))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;industry_set&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;color:#a90d91&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;df&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;iloc&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;所属行业&amp;#39;&lt;/span&gt;]))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;append&lt;/span&gt;(&lt;span style=&#34;color:#a90d91&#34;&gt;dict&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_dict&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; {}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 创建A股节点&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#1c01ce&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#a90d91&#34;&gt;len&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;)):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Node&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;ShortName&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;ShortName&amp;#39;&lt;/span&gt;], &lt;span style=&#34;color:#000&#34;&gt;FullName&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;FullName&amp;#39;&lt;/span&gt;], &lt;span style=&#34;color:#000&#34;&gt;EnName&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;EnName&amp;#39;&lt;/span&gt;], &lt;span style=&#34;color:#000&#34;&gt;Code&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Code&amp;#39;&lt;/span&gt;], &lt;span style=&#34;color:#000&#34;&gt;Address&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Address&amp;#39;&lt;/span&gt;], &lt;span style=&#34;color:#000&#34;&gt;Date&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Date&amp;#39;&lt;/span&gt;], &lt;span style=&#34;color:#000&#34;&gt;Plate&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Plate&amp;#39;&lt;/span&gt;], &lt;span style=&#34;color:#000&#34;&gt;Area&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Area&amp;#39;&lt;/span&gt;], &lt;span style=&#34;color:#000&#34;&gt;Province&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Province&amp;#39;&lt;/span&gt;], &lt;span style=&#34;color:#000&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;City&amp;#39;&lt;/span&gt;], &lt;span style=&#34;color:#000&#34;&gt;Industry&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;Industry&amp;#39;&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;create&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;a_dict&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;[&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;][&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Code&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node_count&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#1c01ce&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;plate_dict&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; {}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;area_dict&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; {}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;province_dict&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; {}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;city_dict&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; {}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;industry_dict&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; {}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 创建板块节点&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;板块&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;plate&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;plate_set&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Node&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;plate&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;create&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;plate_dict&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;plate&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node_count&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#1c01ce&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 创建地区节点&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;地区&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;area&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;area_set&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Node&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;area&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;create&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;area_dict&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;area&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node_count&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#1c01ce&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 创建省份节点&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;省份&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;province&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;province_set&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Node&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;province&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;create&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;province_dict&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;province&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node_count&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#1c01ce&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 创建城市节点&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;城市&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;city&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;city_set&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Node&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;city&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;create&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;city_dict&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;city&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node_count&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#1c01ce&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 创建行业节点&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;行业&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;industry&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;industry_set&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Node&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;industry&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;create&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;industry_dict&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;industry&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node_count&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#1c01ce&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;relationships_list&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; [] 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;# 创建关系&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;a_list&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#177500&#34;&gt;# A股-板块&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node1&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;a_dict&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Code&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node2&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;plate_dict&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Plate&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;relationships_list&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;append&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;Relationship&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;node1&lt;/span&gt;, &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;板块&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;node2&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#177500&#34;&gt;# A股-地区&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node2&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;area_dict&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Area&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;relationships_list&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;append&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;Relationship&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;node1&lt;/span&gt;, &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;地区&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;node2&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#177500&#34;&gt;# A股-省份&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node2&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;province_dict&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Province&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;relationships_list&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;append&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;Relationship&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;node1&lt;/span&gt;, &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;省份&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;node2&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#177500&#34;&gt;# A股-城市&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node2&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;city_dict&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;City&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;relationships_list&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;append&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;Relationship&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;node1&lt;/span&gt;, &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;城市&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;node2&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#177500&#34;&gt;# A股-行业&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;node2&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;industry_dict&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;i&lt;/span&gt;[&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Industry&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000&#34;&gt;relationships_list&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;append&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;Relationship&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;node1&lt;/span&gt;, &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;行业&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;node2&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;sub&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Subgraph&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;relationships&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;relationships_list&lt;/span&gt;)  &lt;span style=&#34;color:#177500&#34;&gt;# 子图的形式创建关系&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;tx_&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;begin&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;tx_&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;create&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;sub&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;graph&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;commit&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;tx_&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;节点数量：&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;node_count&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;e_time&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;创建节点耗时：&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;e_time&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;s_time&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;s&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
      
    </item>
    
  </channel>
</rss>
