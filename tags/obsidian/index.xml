<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Obsidian on Pi3&#39;Notes</title>
    <link>https://blog.pi3.fun/tags/obsidian/</link>
    <description>Recent content in Obsidian on Pi3&#39;Notes</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <managingEditor>622.511.liuchao@gmail.com (LiuChao)</managingEditor>
    <webMaster>622.511.liuchao@gmail.com (LiuChao)</webMaster>
    <lastBuildDate>Sat, 28 Sep 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.pi3.fun/tags/obsidian/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Obsidian中QuickAdd插件的妙用</title>
      <link>https://blog.pi3.fun/post/2024/09/obsidian%E4%B8%ADquickadd%E6%8F%92%E4%BB%B6%E7%9A%84%E5%A6%99%E7%94%A8/</link>
      <pubDate>Sat, 28 Sep 2024 00:00:00 +0000</pubDate>
      <author>622.511.liuchao@gmail.com (LiuChao)</author>
      <guid>https://blog.pi3.fun/post/2024/09/obsidian%E4%B8%ADquickadd%E6%8F%92%E4%BB%B6%E7%9A%84%E5%A6%99%E7%94%A8/</guid>
      
      <description>&lt;p&gt;最近在研究 Obsidian 中怎么合理的组织笔记和附件，我认为最佳的方式就是一篇笔记一个文件夹，在这个文件夹中有一个 assets 目录专门存放图片等附件。&lt;/p&gt;
&lt;p&gt;然而，以这样的方式进行文件管理的话，当我新创建一篇笔记时，我需要先创建一个文件夹再在其中创建一篇笔记。正如 assets 文件夹可以通过 Obsidian 的设置，在图片粘贴的时候自动创建，那么我新建笔记的这个步骤能不能也自动创建？&lt;/p&gt;
&lt;p&gt;在新建一篇笔记时，我通常习惯使用固定的模板，配合 Obsidian 内置模板变量十分方便，当然也可以使用 QuickAdd 插件，功能更加全面。当然在 Obsidian 中有一个创建目录的指令，虽然 QuickAdd 也可以调用，但是却不能输入自定义名称。我的需求是：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;按下 QuickAdd 快捷键后，出现一个输入框，然后输入文件夹名称和笔记名称，比如 &lt;em&gt;test&lt;/em&gt; 然后按下确定键后，会创建一个文件夹和一篇 md 笔记，文件名都是 &lt;em&gt;test&lt;/em&gt; 并且笔记在文件夹里面。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;网上检索一番，发现这样的需求大概还是要用 JavaScript 脚本来实现，其他没有很好的办法。QuickAdd 中的 Macros 可以执行用户自定义脚本，于是我去翻阅 &lt;a href=&#34;https://quickadd.obsidian.guide/docs/&#34;&gt;QuickAdd 官方文档&lt;/a&gt;和 &lt;a href=&#34;https://luhaifeng666.github.io/obsidian-plugin-docs-zh/&#34;&gt;Obsidian 开发者文档&lt;/a&gt;, 折腾了一会，写出了一个 js 脚本，利用 QuickAdd，基本上能实现需要的效果。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;module&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;exports&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;async&lt;/span&gt; (&lt;span style=&#34;color:#000&#34;&gt;params&lt;/span&gt;) =&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; { &lt;span style=&#34;color:#000&#34;&gt;inputPrompt&lt;/span&gt; } &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;params&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;quickAddApi&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;app&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;params&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;app&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#177500&#34;&gt;// 获取用户输入的文件夹和笔记名称
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;folderAndNoteName&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;await&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;inputPrompt&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Enter folder and note name:&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a90d91&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#000&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;folderAndNoteName&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Notice&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;No input provided.&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#1c01ce&#34;&gt;5000&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a90d91&#34;&gt;try&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;// 创建文件夹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;folderPath&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;folderAndNoteName&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;replace&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;/[/\\]/g&lt;/span&gt;, &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;); &lt;span style=&#34;color:#177500&#34;&gt;// 确保路径有效
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#000&#34;&gt;app&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;vault&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;adapter&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;mkdir&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;folderPath&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;// 获取当前日期
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;date&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;window&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;moment&lt;/span&gt;().&lt;span style=&#34;color:#000&#34;&gt;format&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;YYYY-MM-DD&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;window&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;moment&lt;/span&gt;().&lt;span style=&#34;color:#000&#34;&gt;format&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;HH:mm:ss&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;// 创建笔记文件
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;filePath&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;folderPath&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;folderAndNoteName&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;.md&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;fileContent&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;`---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;title: &lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;folderAndNoteName&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;date: &lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;date&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;time: &lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;tags: []
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;---`&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;file&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;await&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;app&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;vault&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;create&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;filePath&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;fileContent&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;// if (file) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;//     // 打开笔记文件
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;//     const leaf = app.workspace.getLeaf(false);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;//     if (leaf) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;//         leaf.openFile(file);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;//         new Notice(`Folder and note &amp;#39;${folderAndNoteName}&amp;#39; created successfully.`, 5000);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;//     } else {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;//         new Notice(&amp;#34;No active leaf to open the file.&amp;#34;, 5000);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;//     }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;// } else {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;//     new Notice(&amp;#34;Failed to create note.&amp;#34;, 5000);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;// }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;    } &lt;span style=&#34;color:#a90d91&#34;&gt;catch&lt;/span&gt; (&lt;span style=&#34;color:#000&#34;&gt;error&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Notice&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;`Error: &lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;error&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;`&lt;/span&gt;, &lt;span style=&#34;color:#1c01ce&#34;&gt;5000&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这其中遇到最大的困难就是，这两个文档写的太难用了，想要的功能需要找很久，还不一定是我想的那样。最后打开新建笔记这一步，一直实现不了，&lt;code&gt;app.vault.create(filePath, fileContent);&lt;/code&gt; 这个函数能够成功创建文件并写入内容，但是即使是成功了也返回 NULL ，以及 &lt;code&gt;leaf.openFile(file);&lt;/code&gt; 这个函数一直不能打开文件，也不知道是不是因为接口和函数写错了，这让我百思不得其解，总之一直没有搞定。&lt;/p&gt;
&lt;p&gt;随后，我也将这个脚本进行修改，整合进我的 Hugo 博客文章撰写的工作流之中。利用这个脚本根据日期创建对应的文件夹如 &lt;code&gt;/content/post/2024/09/&lt;/code&gt;，在文件夹中创建新的模板笔记，利用 Obsidian 的 Git 插件实现定时推送到 GitHub 仓库，再通过 GitHub Action 构建出 HTML 文件，部署在 Github Page 上。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-Javascript&#34; data-lang=&#34;Javascript&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;module&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;exports&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;async&lt;/span&gt; (&lt;span style=&#34;color:#000&#34;&gt;params&lt;/span&gt;) =&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; { &lt;span style=&#34;color:#000&#34;&gt;inputPrompt&lt;/span&gt; } &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;params&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;quickAddApi&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;app&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;params&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;app&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;noteName&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;await&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;inputPrompt&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;Enter note name:&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a90d91&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#000&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;noteName&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Notice&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;No input provided.&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#1c01ce&#34;&gt;5000&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;return&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a90d91&#34;&gt;try&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;year&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;window&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;moment&lt;/span&gt;().&lt;span style=&#34;color:#000&#34;&gt;format&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;YYYY&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;month&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;window&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;moment&lt;/span&gt;().&lt;span style=&#34;color:#000&#34;&gt;format&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;MM&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;basePath&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#39;./content/post&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;yearPath&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;basePath&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;year&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;`&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;monthPath&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;yearPath&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;month&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;`&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;notePath&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;monthPath&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;noteName&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;.md`&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;// 创建文件夹结构
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;await&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ensureDirectoryExists&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;app&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;vault&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;adapter&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;yearPath&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;await&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ensureDirectoryExists&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;app&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;vault&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;adapter&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;monthPath&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;// 创建笔记文件内容
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;fileContent&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c41a16&#34;&gt;`---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;title: &lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;noteName&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;date: &lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;window&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;moment&lt;/span&gt;().&lt;span style=&#34;color:#000&#34;&gt;format&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;#34;YYYY-MM-DD&amp;#34;&lt;/span&gt;)&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;description: 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;tags: []
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;slug: 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;&amp;lt;!--more--&amp;gt;`&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;file&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;await&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;app&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;vault&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;create&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;notePath&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;fileContent&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;// const leaf = app.workspace.getLeaf();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#177500&#34;&gt;// await leaf.openFile(file);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;    } &lt;span style=&#34;color:#a90d91&#34;&gt;catch&lt;/span&gt; (&lt;span style=&#34;color:#000&#34;&gt;error&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Notice&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;`Error: &lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;error&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;message&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;`&lt;/span&gt;, &lt;span style=&#34;color:#1c01ce&#34;&gt;5000&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;// 确保目录存在
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#177500&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a90d91&#34;&gt;async&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ensureDirectoryExists&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;adapter&lt;/span&gt;, &lt;span style=&#34;color:#000&#34;&gt;path&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a90d91&#34;&gt;try&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;await&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;adapter&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;exists&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;path&lt;/span&gt;) &lt;span style=&#34;color:#000&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;await&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;adapter&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;mkdir&lt;/span&gt;(&lt;span style=&#34;color:#000&#34;&gt;path&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#a90d91&#34;&gt;catch&lt;/span&gt; (&lt;span style=&#34;color:#000&#34;&gt;error&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a90d91&#34;&gt;throw&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#a90d91&#34;&gt;Error&lt;/span&gt;(&lt;span style=&#34;color:#c41a16&#34;&gt;`Failed to create directory &lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;path&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;: &lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;error&lt;/span&gt;.&lt;span style=&#34;color:#000&#34;&gt;message&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c41a16&#34;&gt;`&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20240928155919.png&#34; alt=&#34;image.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20240928160014.png&#34; alt=&#34;image.png&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
  </channel>
</rss>
