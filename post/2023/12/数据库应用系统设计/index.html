<!doctype html><html lang=zh-cn><head><script>(function(){const e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e)})()</script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=author content="LiuChao"><meta name=description content="数据库实验之数据库应用系统设计"><link rel=icon href=https://blog.pi3.fun/favicon.ico><meta name=keywords content=" study  latex  life  academic "><meta property="og:url" content="https://blog.pi3.fun/post/2023/12/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/"><meta property="og:site_name" content="Pi3's Notes"><meta property="og:title" content="数据库应用系统设计实验"><meta property="og:description" content="数据库实验之数据库应用系统设计"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-12-18T00:00:00+00:00"><meta property="article:modified_time" content="2023-12-18T00:00:00+00:00"><meta property="article:tag" content="学习"><meta property="article:tag" content="SQLServer"><meta property="article:tag" content="SQL"><link rel=canonical href=https://blog.pi3.fun/post/2023/12/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/><meta itemprop=name content="数据库应用系统设计实验"><meta itemprop=description content="数据库实验之数据库应用系统设计"><meta itemprop=datePublished content="2023-12-18T00:00:00+00:00"><meta itemprop=dateModified content="2023-12-18T00:00:00+00:00"><meta itemprop=wordCount content="2159"><meta itemprop=keywords content="学习,SQLServer,SQL"><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/common.css><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/content.css><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/theme.css><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/iconfont/iconfont.css><link rel=stylesheet href=https://blog.pi3.fun/css/syntax/xcode.css data-theme-style=light media="(prefers-color-scheme: light)"><link rel=stylesheet href=https://blog.pi3.fun/css/syntax/catppuccin-mocha.css data-theme-style=dark media="not all"><title>数据库应用系统设计实验 - Pi3's Notes</title>
<link rel=stylesheet href=https://blog.pi3.fun/css/single.css><link href=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-100-y/KaTeX/0.15.2/katex.min.css rel=stylesheet><script defer src=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-100-y/KaTeX/0.15.2/katex.min.js></script><script defer src=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-100-y/KaTeX/0.15.2/contrib/auto-render.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}],ignoredTags:["script","noscript","style","textarea","pre","code","option"],throwOnError:!1})})</script></head><body><div id=wrapper><header id=header><h1><a href=https://blog.pi3.fun/>Pi3's Notes</a></h1><nav><span class=nav-bar-item><a class=link href=/>文章</a>
</span><span class=nav-bar-item><a class=link href=/post/>归档</a>
</span><span class=nav-bar-item><a class=link href=/about/>关于</a>
</span><span class=nav-bar-item><a class=link href=/links/>友链</a>
</span><span class=nav-bar-item><a class="link theme-toggle" href=javascript:void(0);>黑暗</a></span></nav></header><main id=main class=post><h1>数据库应用系统设计实验</h1><div><b>Keywords: </b><a class=link href=https://blog.pi3.fun/tags/%E5%AD%A6%E4%B9%A0>#学习</a>
<a class=link href=https://blog.pi3.fun/tags/sqlserver>#SQLServer</a>
<a class=link href=https://blog.pi3.fun/tags/sql>#SQL</a></div><details><summary><b>Table of Contents</b></summary><div class=toc><nav id=TableOfContents><ul><li><a href=#已有信息>已有信息</a></li><li><a href=#实验步骤>实验步骤</a></li><li><a href=#实验过程>实验过程</a></li></ul></nav></div></details><article class=content><p>1、实验目的</p><p>  熟练掌握概念结构设计和逻辑结构设计步骤，建立和操作数据库。
 
2、实验内容与要求</p><p>（1）根据已有信息，设计概念模型</p><p>（2）将概念模型转换为关系模型</p><p>（3）创建数据表，填入信息</p><p>（4）设计查询语句，完成查询任务。</p><p>要求：给出完整的步骤和截图。</p><p>3、实验环境</p><p>Microsoft SQL Server (Express) + SQL Server Management Studio</p><h2 id=已有信息>已有信息</h2><p>设有一家百货商店，已知信息如下：</p><p>1）每个职工的数据是职工号、姓名、地址和他所在的商品部。</p><p>2）每一商品部的数据有：它的职工，经理和它经销的商品。</p><p>3）每种经销的商品数据有：商品名、生产厂家、价格、型号（厂家定的）和内部商品代号（商店规定的）。</p><p>4）每个生产厂家的数据有：厂名、地址、向商店提供的商品价格。</p><h2 id=实验步骤>实验步骤</h2><p>1）根据已知信息，设计该百货商店的概念模型 （给出E-R图）</p><p>2）将概念模型转换为关系模型。（给出关系模型）</p><p>3）详细列出设计了几张表，各个表所含的字段，以及字段采用的数据类型。有些字段要有约束（价格大于0等）。</p><p>3）用SQL创建数据表，填入信息，每张表填入的信息不少于8条。（建表语句以及结果截图）</p><p>4）用SQL语言进行以下数据查询操作：（查询语句以及结果截图）</p><p>a) 查询所有经理的姓名</p><p>b) 查询某商品部交涉的厂家列表。</p><h2 id=实验过程>实验过程</h2><p><strong>①</strong>    <strong>根据给出的信息，可以设计绘制出ER图</strong></p><p><img src=https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231218000317.png alt=ER图></p><p><strong>②</strong> <strong>将上面ER概念模型转换为关系模型</strong></p><p>职工（职工号，姓名，地址，所在部门）</p><p>商品部（部门号，部门名称，经理）</p><p>商品（商品代号，商品名，生产厂家，价格，型号，商品部）</p><p>厂家（厂家代号，厂名，地址，提供价格）</p><p><strong>③</strong> <strong>根据模型设计数据表，具有详细的字段名称、数据类型以及数据的约束</strong></p><p>共设计了4张表，分别是职工表、商品部表、商品表、厂家表</p><p>职工表：</p><table><thead><tr><th>字段名</th><th>数据类型</th><th>长度</th><th>主键</th><th>外键</th><th>约束</th></tr></thead><tbody><tr><td>职工号</td><td>char</td><td>10</td><td>是</td><td>否</td><td>非空</td></tr><tr><td>姓名</td><td>varchar</td><td>20</td><td>否</td><td>否</td><td>非空</td></tr><tr><td>地址</td><td>varchar</td><td>50</td><td>否</td><td>否</td><td>非空</td></tr><tr><td>所在部门</td><td>char</td><td>10</td><td>否</td><td>是</td><td>非空，参照商品部表的部门号</td></tr></tbody></table><p>商品部表：</p><table><thead><tr><th style=text-align:left>字段名</th><th style=text-align:left>数据类型</th><th style=text-align:left>长度</th><th style=text-align:left>主键</th><th style=text-align:left>外键</th><th style=text-align:left>约束</th></tr></thead><tbody><tr><td style=text-align:left>部门号</td><td style=text-align:left>char</td><td style=text-align:left>10</td><td style=text-align:left>是</td><td style=text-align:left>否</td><td style=text-align:left>非空</td></tr><tr><td style=text-align:left>部门名称</td><td style=text-align:left>varchar</td><td style=text-align:left>20</td><td style=text-align:left>否</td><td style=text-align:left>否</td><td style=text-align:left>非空</td></tr><tr><td style=text-align:left>经理</td><td style=text-align:left>varchar</td><td style=text-align:left>20</td><td style=text-align:left>否</td><td style=text-align:left>否</td><td style=text-align:left>非空</td></tr></tbody></table><p>商品表：</p><table><thead><tr><th>字段名</th><th>数据类型</th><th>长度</th><th>主键</th><th>外键</th><th>约束</th></tr></thead><tbody><tr><td>商品代号</td><td>char</td><td>10</td><td>是</td><td>否</td><td>非空</td></tr><tr><td>商品名</td><td>varchar</td><td>20</td><td>否</td><td>否</td><td>非空</td></tr><tr><td>生产厂家</td><td>char</td><td>10</td><td>否</td><td>是</td><td>非空，参照厂家表的厂家代号</td></tr><tr><td>价格</td><td>decimal</td><td>10,2</td><td>否</td><td>否</td><td>非空，大于0</td></tr><tr><td>型号</td><td>varchar</td><td>20</td><td>否</td><td>否</td><td>非空</td></tr><tr><td>部门号</td><td>char</td><td>10</td><td>否</td><td>是</td><td>非空，参照商品部表的部门号</td></tr></tbody></table><p>厂家表：</p><table><thead><tr><th>字段名</th><th>数据类型</th><th>长度</th><th>主键</th><th>外键</th><th>约束</th></tr></thead><tbody><tr><td>厂家代号</td><td>char</td><td>10</td><td>是</td><td>否</td><td>非空</td></tr><tr><td>厂名</td><td>varchar</td><td>20</td><td>否</td><td>否</td><td>非空</td></tr><tr><td>地址</td><td>varchar</td><td>50</td><td>否</td><td>否</td><td>非空</td></tr><tr><td>提供价格</td><td>decimal</td><td>10,2</td><td>否</td><td>否</td><td>非空，大于0</td></tr></tbody></table><p><strong>④</strong> <strong>用SQL创建数据表，填入模拟的数据信息</strong></p><ol><li>职工表：</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 创建职工表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>employee</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>emp_id</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>emp_name</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>emp_address</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>dept_id</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>department</span><span class=p>(</span><span class=n>dept_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231218000346.png alt=职工表结构></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 填入职工信息
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>employee</span><span class=w> </span><span class=k>VALUES</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;E001&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;张三&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;北京市朝阳区&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D001&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;E002&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;李四&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;上海市浦东新区&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D002&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;E003&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;王五&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;广州市天河区&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D003&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;E004&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;赵六&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;深圳市南山区&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D004&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;E005&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;孙七&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;杭州市西湖区&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D001&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;E006&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;周八&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;南京市鼓楼区&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D002&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;E007&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;吴九&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;成都市武侯区&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D003&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;E008&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;郑十&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;重庆市渝北区&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D004&#39;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231218000403.png alt=职工表数据></p><ol start=2><li>商品部表</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- 创建商品部表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>dept_id</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>dept_name</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>dept_manager</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231218000431.png alt=商品部表结构></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- 填入商品部信息
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=k>VALUES</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;D001&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;服装部&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;张三&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;D002&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;电器部&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;李四&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;D003&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;食品部&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;王五&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;D004&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;化妆品部&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;赵六&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;D005&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;生鲜部&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;孙七&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;D006&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;家庭用品部&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;周八&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;D007&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;鞋帽部&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;吴九&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;D008&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;首饰部&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;郑十&#39;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231218000524.png alt=商品部表数据></p><ol start=3><li>商品表：</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- 创建商品表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>product</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>prod_id</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>prod_name</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>prod_maker</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>manufacturer</span><span class=p>(</span><span class=n>maker_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>prod_price</span><span class=w> </span><span class=nb>decimal</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=n>prod_price</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>prod_model</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>prod_dept</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>department</span><span class=p>(</span><span class=n>dept_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231218000534.png alt=商品表结构></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- 填入商品信息
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>product</span><span class=w> </span><span class=k>VALUES</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;P001&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;牛仔裤&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;M001&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>199</span><span class=p>.</span><span class=mi>00</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;A001&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D001&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;P002&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;T恤&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;M005&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>99</span><span class=p>.</span><span class=mi>00</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;A002&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D001&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;P003&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;电饭煲&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;M002&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>299</span><span class=p>.</span><span class=mi>00</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;B001&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D002&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;P004&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;电水壶&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;M006&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>99</span><span class=p>.</span><span class=mi>00</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;B002&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D002&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;P005&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;巧克力&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;M003&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>19</span><span class=p>.</span><span class=mi>90</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;C001&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D003&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;P006&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;蛋糕&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;M007&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>39</span><span class=p>.</span><span class=mi>90</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;C002&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D003&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;P007&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;口红&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;M004&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>299</span><span class=p>.</span><span class=mi>00</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D001&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D004&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;P008&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;香水&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;M008&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>399</span><span class=p>.</span><span class=mi>00</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D002&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D004&#39;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231218000540.png alt=商品表数据></p><ol start=4><li>厂家表：</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- 创建厂家表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>manufacturer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>maker_id</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>maker_name</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>maker_address</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>maker_price</span><span class=w> </span><span class=nb>decimal</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=n>maker_price</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231218000546.png alt=厂家表结构></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- 填入厂家信息
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>manufacturer</span><span class=w> </span><span class=k>VALUES</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;M001&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;优衣库&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;日本东京&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>150</span><span class=p>.</span><span class=mi>00</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;M002&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;美的&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;广东佛山&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>200</span><span class=p>.</span><span class=mi>00</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;M003&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;费列罗&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;意大利米兰&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>15</span><span class=p>.</span><span class=mi>00</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;M004&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;迪奥&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;法国巴黎&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>180</span><span class=p>.</span><span class=mi>00</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;M005&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;耐克&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;美国俄勒冈&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>90</span><span class=p>.</span><span class=mi>00</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;M006&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;九阳&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;江苏常州&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>80</span><span class=p>.</span><span class=mi>00</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;M007&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;好利来&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;中国北京&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>.</span><span class=mi>00</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;M008&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;博柏利&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;英国伦敦&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>299</span><span class=p>.</span><span class=mi>00</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231218000553.png alt=厂家表数据></p><p>总体结构:
<img src=https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231218000559.png alt=总体结构></p><p><strong>⑤</strong> <strong>用SQL语言进行以下数据查询操作</strong></p><p>a) 查询所有经理的姓名</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- a) 查询所有经理的姓名
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>dept_manager</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>department</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231218000607.png alt=查询结果></p><p>b) 查询某商品部交涉的厂家列表</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- b) 查询某商品部交涉的厂家列表
</span></span></span><span class=line><span class=cl><span class=c1>-- 这里以D001服装部为例
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>maker_name</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>manufacturer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>maker_id</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>SELECT</span><span class=w> </span><span class=n>prod_maker</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>product</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>WHERE</span><span class=w> </span><span class=n>prod_id</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>prod_id</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>product</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>prod_dept</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;D001&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/Pi3-l22/pico_rep/img/20231218000615.png alt=查询结果></p></article><div class=paginator><a class=link href=https://blog.pi3.fun/post/2023/12/t-sql%E8%AF%AD%E5%8F%A5%E6%93%8D%E4%BD%9C%E4%BA%8C/>← prev</a>
<a class=link href=https://blog.pi3.fun/post/2023/12/%E5%BE%AE%E4%BF%A1%E5%AE%9A%E6%97%B6%E5%8F%91%E9%80%81%E5%80%92%E6%95%B0%E6%97%A5/>next →</a></div><div class=comment><div id=tcomment></div><script src=https://registry.npmmirror.com/twikoo/1.6.39/files/dist/twikoo.min.js></script><script async>twikoo.init({envId:"https://twikoo.pi3.fun/.netlify/functions/twikoo",el:"#tcomment",lang:"zh-CN"})</script></div></main><footer id=footer><div><span style=display:flex;align-items:center><span style=margin-right:.5rem>© 2021 - 2024</span><img src=https://p.sda1.dev/20/9c62fc28131254c408b5ad8667a69140/rainbow.gif loading=lazy width=20 alt=rainbow><span style=margin-left:.5rem>By Liu Chao</span></span></div><div class=footnote><span><a class=link href=/index.xml><span class="iconfont icon-RSS"></span></a> | <a class=link href=https://github.com/Pi3-l22 target=_ blank><span class="iconfont icon-GitHub"></span></a> | <a class=link href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel=noopener><span class="iconfont icon-creative-commons-fill"></span></a></span></div><div class=blog-icon><a href=https://www.travellings.cn/go.html target=_blank rel=noopener title=开往-友链接力><img src=https://www.travellings.cn/assets/logo.gif alt=开往-友链接力 height=25 loading=lazy></a></div></footer></div><script>document.addEventListener("DOMContentLoaded",function(){const n=localStorage.getItem("theme")||"light",e=document.querySelector('link[data-theme-style="light"]'),t=document.querySelector('link[data-theme-style="dark"]'),i=window.matchMedia("(prefers-color-scheme: dark)");i.addListener(function(n){if(!localStorage.getItem("theme")){const s=n.matches?"dark":"light";document.documentElement.setAttribute("data-theme",s),localStorage.setItem("theme",s),s==="light"?(e.media="all",t.media="not all"):(e.media="not all",t.media="all");const o=document.querySelector("iframe.giscus-frame");if(o){const e=s==="light"?"light_tritanopia":"dark_tritanopia";o.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}}}),n==="light"?(e.media="all",t.media="not all"):(e.media="not all",t.media="all");function o(){const e=document.querySelector("iframe.giscus-frame");if(e){const t=n==="light"?"light_tritanopia":"dark_tritanopia";e.contentWindow.postMessage({giscus:{setConfig:{theme:t}}},"https://giscus.app")}else setTimeout(o,1e3)}o();const s=document.querySelector(".theme-toggle");s&&(s.textContent=n==="light"?"黑暗":"明亮",s.addEventListener("click",function(){const o=document.documentElement.getAttribute("data-theme"),n=o==="light"?"dark":"light";document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n),n==="light"?(e.media="all",t.media="not all"):(e.media="not all",t.media="all");const s=document.querySelector("iframe.giscus-frame");if(s){const e=n==="light"?"light_tritanopia":"dark_tritanopia";s.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}this.textContent=n==="light"?"黑暗":"明亮"}))})</script></body></html>