<!doctype html><html lang=zh-cn><head><script>(function(){const e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e)})()</script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=author content="LiuChao"><meta name=description content="Go 语言入门基础学习笔记之 Go 语言的函数"><link rel=icon href=https://blog.pi3.fun/favicon.ico><meta name=keywords content=" study  latex  life  academic "><meta property="og:url" content="https://blog.pi3.fun/post/2024/go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A88%E5%87%BD%E6%95%B0/"><meta property="og:site_name" content="Pi3's Notes"><meta property="og:title" content="Go语言入门8：函数"><meta property="og:description" content="Go 语言入门基础学习笔记之 Go 语言的函数"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-11-13T00:00:00+00:00"><meta property="article:modified_time" content="2024-11-13T00:00:00+00:00"><meta property="article:tag" content="技术"><meta property="article:tag" content="Golang"><meta property="article:tag" content="Go 入门笔记"><link rel=canonical href=https://blog.pi3.fun/post/2024/go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A88%E5%87%BD%E6%95%B0/><meta itemprop=name content="Go语言入门8：函数"><meta itemprop=description content="Go 语言入门基础学习笔记之 Go 语言的函数"><meta itemprop=datePublished content="2024-11-13T00:00:00+00:00"><meta itemprop=dateModified content="2024-11-13T00:00:00+00:00"><meta itemprop=wordCount content="3066"><meta itemprop=keywords content="技术,Golang,Go 入门笔记"><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/common.css><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/content.css><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/theme.css><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/iconfont/iconfont.css><link rel=stylesheet href=https://blog.pi3.fun/css/syntax/xcode.css data-theme-style=light media="(prefers-color-scheme: light)"><link rel=stylesheet href=https://blog.pi3.fun/css/syntax/catppuccin-mocha.css data-theme-style=dark media="not all"><title>Go语言入门8：函数 - Pi3's Notes</title>
<link rel=stylesheet href=https://blog.pi3.fun/css/single.css><link href=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-100-y/KaTeX/0.15.2/katex.min.css rel=stylesheet><script defer src=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-100-y/KaTeX/0.15.2/katex.min.js></script><script defer src=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-100-y/KaTeX/0.15.2/contrib/auto-render.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}],ignoredTags:["script","noscript","style","textarea","pre","code","option"],throwOnError:!1})})</script></head><body><div id=wrapper><header id=header><h1><a href=https://blog.pi3.fun/>Pi3's Notes</a></h1><nav><span class=nav-bar-item><a class=link href=/>文章</a>
</span><span class=nav-bar-item><a class=link href=/post/>归档</a>
</span><span class=nav-bar-item><a class=link href=/about/>关于</a>
</span><span class=nav-bar-item><a class=link href=/links/>友链</a>
</span><span class=nav-bar-item><a class="link theme-toggle" href=javascript:void(0);>黑暗</a></span></nav></header><main id=main class=post><h1>Go语言入门8：函数</h1><div><b>Keywords: </b><a class=link href=https://blog.pi3.fun/tags/%E6%8A%80%E6%9C%AF>#技术</a>
<a class=link href=https://blog.pi3.fun/tags/golang>#Golang</a>
<a class=link href=https://blog.pi3.fun/tags/go-%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0>#Go 入门笔记</a></div><div><b>Release Date: </b><span>2024-11-13</span></div><details><summary><b>Table of Contents</b></summary><div class=toc><nav id=TableOfContents><ul><li><a href=#函数>函数</a><ul><li><a href=#函数定义>函数定义</a></li><li><a href=#返回多个值>返回多个值</a></li><li><a href=#函数参数>函数参数</a></li><li><a href=#函数用法>函数用法</a></li><li><a href=#init-函数与-import-导包>init 函数与 import 导包</a></li></ul></li></ul></nav></div></details><article class=content><p>Go 语言入门基础学习笔记之 Go 语言的函数</p><p><img src=https://cdn.pi3.fun/blog/golang.png alt=golang></p><h2 id=函数>函数</h2><h3 id=函数定义>函数定义</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>function_name</span><span class=p>(</span> <span class=p>[</span><span class=nx>parameter</span> <span class=nx>list</span><span class=p>]</span> <span class=p>)</span> <span class=p>[</span><span class=nx>return_types</span><span class=p>]</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>函数体</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li><code>func</code>：函数由 func 开始声明</li><li><code>function_name</code>：函数名称，参数列表和返回值类型构成了函数签名。</li><li><code>parameter list</code>：参数列表，参数就像一个占位符，当函数被调用时，你可以将值传递给参数，这个值被称为实际参数。参数列表指定的是参数类型、顺序、及参数个数。参数是可选的，也就是说函数也可以不包含参数。</li><li><code>return_types</code>：返回类型，函数返回一列值。return_types 是该列值的数据类型。有些功能不需要返回值，这种情况下 return_types 不是必须的。</li><li>函数体：函数定义的代码集合。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=cm>/* 函数返回两个数的最大值 */</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nb>max</span><span class=p>(</span><span class=nx>num1</span><span class=p>,</span> <span class=nx>num2</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=cm>/* 声明局部变量 */</span>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nx>result</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=k>if</span> <span class=p>(</span><span class=nx>num1</span> <span class=p>&gt;</span> <span class=nx>num2</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>result</span> <span class=p>=</span> <span class=nx>num1</span>
</span></span><span class=line><span class=cl>   <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>result</span> <span class=p>=</span> <span class=nx>num2</span>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>   <span class=k>return</span> <span class=nx>result</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Go 语言还支持<strong class=chinese>命名返回值</strong>，比如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Factorial</span><span class=p>(</span><span class=nx>n</span> <span class=kt>uint64</span><span class=p>)(</span><span class=nx>result</span> <span class=kt>uint64</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>n</span> <span class=p>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>result</span> <span class=p>=</span> <span class=nx>n</span> <span class=o>*</span> <span class=nf>Factorial</span><span class=p>(</span><span class=nx>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=c1>// 直接对命名返回值 result 赋值
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=c1>// 这里直接返回 result
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>1</span> <span class=c1>// 这里返回 1，result 会被自动赋值为 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><p>这样写的好处在于：</p><ul><li>在函数体中不需要再次声明定义这个变量。</li><li>允许在函数中使用 <code>result</code> 直接作为返回值。</li><li>使得代码更简洁，容易阅读，并且可以避免在每个返回语句中重复指定返回值。</li><li>如果没有提供名称，返回值则需要在 <code>return</code> 语句中显式指定，例如 <code>return someValue</code>。</li></ul><h3 id=返回多个值>返回多个值</h3><p>Go 函数可以返回多个值，并且也支持匿名和有名。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// 匿名的返回值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>swap</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>string</span><span class=p>)</span> <span class=p>(</span><span class=kt>string</span><span class=p>,</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=k>return</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>x</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 有名的返回值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>swap1</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>string</span><span class=p>)</span> <span class=p>(</span><span class=nx>r1</span> <span class=kt>string</span><span class=p>,</span> <span class=nx>r2</span> <span class=kt>string</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=nx>r1</span> <span class=p>=</span> <span class=nx>y</span>
</span></span><span class=line><span class=cl>    <span class=nx>r2</span> <span class=p>=</span> <span class=nx>x</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 相同类型的类型名可以合并
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>swap2</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>string</span><span class=p>)</span> <span class=p>(</span><span class=nx>r1</span><span class=p>,</span> <span class=nx>r2</span> <span class=kt>string</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=nx>r1</span> <span class=p>=</span> <span class=nx>y</span>  <span class=c1>// 如果 r1 r2不赋值直接返回，则为默认值（空）
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>r2</span> <span class=p>=</span> <span class=nx>x</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=函数参数>函数参数</h3><p>调用函数，可以通过两种方式进行参数传递</p><ol><li><strong class=chinese>值传递</strong>：指在调用函数时将实际参数<strong class=chinese>复制</strong>一份传递到函数中，这样在函数中如果对参数进行修改，将不会影响到实际参数。</li><li><strong class=chinese>引用传递</strong>：指在调用函数时将实际参数的<strong class=chinese>地址</strong>传递到函数中，那么在函数中对参数所进行的修改，将影响到实际参数。</li></ol><blockquote><p>默认情况下，Go 语言使用的是值传递，即在调用过程中不会影响到实际参数。</p><p>Go 语言中所有的<strong class=chinese>等号赋值</strong>和<strong class=chinese>函数传参</strong>都是进行拷贝的值传递。</p></blockquote><p>值传递：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=cm>/* 定义局部变量 */</span>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nx>a</span> <span class=kt>int</span> <span class=p>=</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nx>b</span> <span class=kt>int</span> <span class=p>=</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;交换前 a 的值为 : %d\n&#34;</span><span class=p>,</span> <span class=nx>a</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;交换前 b 的值为 : %d\n&#34;</span><span class=p>,</span> <span class=nx>b</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=cm>/* 通过调用函数来交换值 */</span>
</span></span><span class=line><span class=cl>   <span class=nf>swap</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;交换后 a 的值 : %d\n&#34;</span><span class=p>,</span> <span class=nx>a</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;交换后 b 的值 : %d\n&#34;</span><span class=p>,</span> <span class=nx>b</span> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/* 定义相互交换值的函数 */</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>swap</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nx>temp</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=nx>temp</span> <span class=p>=</span> <span class=nx>x</span> <span class=cm>/* 保存 x 的值 */</span>
</span></span><span class=line><span class=cl>   <span class=nx>x</span> <span class=p>=</span> <span class=nx>y</span>    <span class=cm>/* 将 y 值赋给 x */</span>
</span></span><span class=line><span class=cl>   <span class=nx>y</span> <span class=p>=</span> <span class=nx>temp</span> <span class=cm>/* 将 temp 值赋给 y*/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=k>return</span> <span class=nx>temp</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 输出结果
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>交换前</span> <span class=nx>a</span> <span class=nx>的值为</span> <span class=p>:</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl><span class=nx>交换前</span> <span class=nx>b</span> <span class=nx>的值为</span> <span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl><span class=nx>交换后</span> <span class=nx>a</span> <span class=nx>的值</span> <span class=p>:</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl><span class=nx>交换后</span> <span class=nx>b</span> <span class=nx>的值</span> <span class=p>:</span> <span class=mi>200</span>
</span></span></code></pre></div><p>引用传递：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=cm>/* 定义局部变量 */</span>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nx>a</span> <span class=kt>int</span> <span class=p>=</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>=</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;交换前，a 的值 : %d\n&#34;</span><span class=p>,</span> <span class=nx>a</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;交换前，b 的值 : %d\n&#34;</span><span class=p>,</span> <span class=nx>b</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=cm>/* 调用 swap() 函数
</span></span></span><span class=line><span class=cl><span class=cm>   * &amp;a 指向 a 指针，a 变量的地址
</span></span></span><span class=line><span class=cl><span class=cm>   * &amp;b 指向 b 指针，b 变量的地址
</span></span></span><span class=line><span class=cl><span class=cm>   */</span>
</span></span><span class=line><span class=cl>   <span class=nf>swap</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>a</span><span class=p>,</span> <span class=o>&amp;</span><span class=nx>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;交换后，a 的值 : %d\n&#34;</span><span class=p>,</span> <span class=nx>a</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;交换后，b 的值 : %d\n&#34;</span><span class=p>,</span> <span class=nx>b</span> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>swap</span><span class=p>(</span><span class=nx>x</span> <span class=o>*</span><span class=kt>int</span><span class=p>,</span> <span class=nx>y</span> <span class=o>*</span><span class=kt>int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=kd>var</span> <span class=nx>temp</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl>   <span class=nx>temp</span> <span class=p>=</span> <span class=o>*</span><span class=nx>x</span>    <span class=cm>/* 保存 x 地址上的值 */</span>
</span></span><span class=line><span class=cl>   <span class=o>*</span><span class=nx>x</span> <span class=p>=</span> <span class=o>*</span><span class=nx>y</span>      <span class=cm>/* 将 y 值赋给 x */</span>
</span></span><span class=line><span class=cl>   <span class=o>*</span><span class=nx>y</span> <span class=p>=</span> <span class=nx>temp</span>    <span class=cm>/* 将 temp 值赋给 y */</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 输出结果
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>交换前</span><span class=err>，</span><span class=nx>a</span> <span class=nx>的值</span> <span class=p>:</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl><span class=nx>交换前</span><span class=err>，</span><span class=nx>b</span> <span class=nx>的值</span> <span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl><span class=nx>交换后</span><span class=err>，</span><span class=nx>a</span> <span class=nx>的值</span> <span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl><span class=nx>交换后</span><span class=err>，</span><span class=nx>b</span> <span class=nx>的值</span> <span class=p>:</span> <span class=mi>100</span>
</span></span></code></pre></div><h3 id=函数用法>函数用法</h3><ol><li><strong class=chinese>函数作为另外一个函数的实参</strong>：函数定义后可作为另外一个函数的实参数传入</li><li><strong class=chinese>闭包</strong>：闭包是匿名函数，可在动态编程中使用</li><li><strong class=chinese>方法</strong>：方法就是一个包含了接受者的函数</li></ol><p>Go 语言可以很灵活的创建函数，并作为另外一个函数的实参。以下实例中我们在定义的函数中初始化一个变量，该函数仅仅是为了使用内置函数 <code>math.sqrt()</code>。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>   <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>   <span class=s>&#34;math&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>   <span class=cm>/* 声明函数变量 */</span>
</span></span><span class=line><span class=cl>   <span class=nx>getSquareRoot</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>(</span><span class=nx>x</span> <span class=kt>float64</span><span class=p>)</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=c1>// 这是一个匿名函数
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>return</span> <span class=nx>math</span><span class=p>.</span><span class=nf>Sqrt</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=cm>/* 使用函数 */</span>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nf>getSquareRoot</span><span class=p>(</span><span class=mi>9</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 输出结果
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=mi>3</span>
</span></span></code></pre></div><p>Go 语言支持<strong class=chinese>匿名函数</strong>，可作为<strong class=chinese>闭包</strong>。匿名函数是一个<strong class=chinese>内联</strong>语句或表达式。匿名函数的优越性在于可以直接使用函数内的变量，不必申明。</p><p><strong class=chinese>匿名函数</strong>是一种没有函数名的函数，通常用于在函数内部定义函数，或者作为函数参数进行传递。</p><p>匿名函数可以在声明时直接使用，如下面这个例子。也可以当成值赋值给一个变量，这个变量就相当于是这个匿名函数的一个函数名。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span> <span class=o>:=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>  <span class=nx>b</span> <span class=o>:=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>  <span class=nx>c</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>(</span><span class=nx>a</span> <span class=kt>int</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl>  <span class=p>}(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>以下实例中，我们创建了函数 <code>getSequence()</code> ，返回另外一个函数。该函数的目的是在闭包中递增 <code>i</code> 变量，代码如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>getSequence</span><span class=p>()</span> <span class=kd>func</span><span class=p>()</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=c1>// func()表示getSequence()返回一个函数类型的值
</span></span></span><span class=line><span class=cl><span class=c1>// int表示func()返回一个int类型的值
</span></span></span><span class=line><span class=cl><span class=c1></span>   <span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>   <span class=k>return</span> <span class=kd>func</span><span class=p>()</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>i</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>     <span class=k>return</span> <span class=nx>i</span>  
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>   <span class=cm>/* nextNumber 为一个函数，函数 i 为 0 */</span>
</span></span><span class=line><span class=cl>   <span class=nx>nextNumber</span> <span class=o>:=</span> <span class=nf>getSequence</span><span class=p>()</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=cm>/* 调用 nextNumber 函数，i 变量自增 1 并返回 */</span>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nf>nextNumber</span><span class=p>())</span>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nf>nextNumber</span><span class=p>())</span>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nf>nextNumber</span><span class=p>())</span>
</span></span><span class=line><span class=cl>   
</span></span><span class=line><span class=cl>   <span class=cm>/* 创建新的函数 nextNumber1，并查看结果 */</span>
</span></span><span class=line><span class=cl>   <span class=nx>nextNumber1</span> <span class=o>:=</span> <span class=nf>getSequence</span><span class=p>()</span>  
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nf>nextNumber1</span><span class=p>())</span>
</span></span><span class=line><span class=cl>   <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nf>nextNumber1</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 输出结果
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=mi>2</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 定义一个匿名函数并将其赋值给函数变量add
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>add</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 调用匿名函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>result</span> <span class=o>:=</span> <span class=nf>add</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;3 + 5 =&#34;</span><span class=p>,</span> <span class=nx>result</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 定义一个匿名函数并将其赋值给函数变量multiply
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>multiply</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>x</span> <span class=o>*</span> <span class=nx>y</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>product</span> <span class=o>:=</span> <span class=nf>multiply</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>6</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;4 * 6 =&#34;</span><span class=p>,</span> <span class=nx>product</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 将匿名函数作为参数传递给其他函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>calculate</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>(</span><span class=nx>operation</span> <span class=kd>func</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nf>operation</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>sum</span> <span class=o>:=</span> <span class=nf>calculate</span><span class=p>(</span><span class=nx>add</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>8</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;2 + 8 =&#34;</span><span class=p>,</span> <span class=nx>sum</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 也可以直接在函数调用中定义匿名函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>difference</span> <span class=o>:=</span> <span class=nf>calculate</span><span class=p>(</span><span class=kd>func</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>a</span> <span class=o>-</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;10 - 4 =&#34;</span><span class=p>,</span> <span class=nx>difference</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 输出结果
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=mi>3</span> <span class=o>+</span> <span class=mi>5</span> <span class=p>=</span> <span class=mi>8</span>
</span></span><span class=line><span class=cl><span class=mi>4</span> <span class=o>*</span> <span class=mi>6</span> <span class=p>=</span> <span class=mi>24</span>
</span></span><span class=line><span class=cl><span class=mi>2</span> <span class=o>+</span> <span class=mi>8</span> <span class=p>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=mi>10</span> <span class=o>-</span> <span class=mi>4</span> <span class=p>=</span> <span class=mi>6</span>
</span></span></code></pre></div><p>Go 语言中还有一个特殊的函数用法，<code>defer</code>。<code>defer</code> 后面跟的代码或者匿名函数，在当前层<strong class=chinese>函数退出前</strong>（<code>return</code> 后）才会被执行。<span id=defer></span></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>work</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Step 1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>defer</span> <span class=kd>func</span><span class=p>(){</span>  <span class=c1>// ()用来放置形参
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Step 3&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}()</span> <span class=c1>// ()用来传递实参
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Step 2&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>在上面一个例子中，在匿名函数前使用的了 <code>defer</code>，使得这个匿名函数在 <code>work</code> 函数最后才会被执行。</p><p>在同一个函数中可以有多个 <code>defer</code> 关键字，由于 <code>defer</code> 使用<strong class=chinese>栈</strong>的结构，因此它们执行的时的顺序恰好与书写<strong class=chinese>顺序相反</strong>。</p><p><img src=https://cdn.pi3.fun/blog/202411131542799.png alt=image.png></p><h3 id=init-函数与-import-导包>init 函数与 import 导包</h3><p>Go 语言给每个包提供了一个 <code>init()</code> 函数，作为当前包的一个主入口。</p><p><img src=https://cdn.pi3.fun/blog/202411131542640.png alt=image.png></p><p>在上面张图中，展示了 Go 语言程序有关包、<code>init()</code> 和 <code>main()</code> 的调用流程。</p><p><code>main</code> 程序作为项目的主入口，一开始会调用一系列的包，不同的包中也会不断的调用其他包，整体是以递归的方式进行解析。包的解析流程是从 <code>const</code> 到 <code>var</code> 到 <code>inti()</code>，主程序的解析流程也是类似，从 <code>const</code> 到 <code>var</code> 到 <code>init()</code> 到 <code>main()</code>，由于 <code>init</code> 的执行时机优先于 <code>main</code>，因此我们可以将需要在 <code>main</code> 函数中执行的操作写在 <code>init</code> 函数中。</p><p>实例：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>│ main.go
</span></span><span class=line><span class=cl>│
</span></span><span class=line><span class=cl>├─lib1
</span></span><span class=line><span class=cl>│   lib1.go
</span></span><span class=line><span class=cl>│
</span></span><span class=line><span class=cl>└─lib2
</span></span><span class=line><span class=cl>    lib2.go
</span></span></code></pre></div><p>以上是实例的目录情况，<code>main.go</code> 是入口程序，<code>lib1</code> 和 <code>lib2</code> 是要导入的包。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;GolangStudy/5-init/lib1&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;GolangStudy/5-init/lib2&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>lib1</span><span class=p>.</span><span class=nf>Lib1Test</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>lib2</span><span class=p>.</span><span class=nf>Lib2Test</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 输出结果
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>lib1</span><span class=p>.</span> <span class=nf>init</span><span class=p>()</span> <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=nx>lib2</span><span class=p>.</span> <span class=nf>init</span><span class=p>()</span> <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=nf>lib1Test</span><span class=p>()</span><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=nf>lib2Test</span><span class=p>()</span><span class=o>...</span>
</span></span></code></pre></div><p>这里需要指定 <code>lib1</code> 和 <code>lib2</code> 相对于 <code>GOROOT</code> 目录的路径位置，否则会报错找不到包。后续会使用 <code>go mod</code> 来更方便的管理包模块，不再需要添加路径。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>lib1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//当前lib1包提供的API
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>Lib1Test</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;lib1Test()...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>init</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;lib1. init() ...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>lib2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//当前lib2包提供的API
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>Lib2Test</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;lib2Test()...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>init</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;lib2. init() ...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><blockquote><p>如果要让其他程序获取当前包中的变量或者函数，<strong class=chinese>变量和函数名的开头必须大写</strong>！表示一个<strong class=chinese>公共开放</strong>的变量或者函数。否则只能在自己当前的包内使用。</p></blockquote><hr><p>当然在 <code>main</code> 入口程序中导入 <code>lib1</code> 和 <code>lib2</code> 包，也可以设置<strong class=chinese>别名</strong>或<strong class=chinese>匿名</strong>。</p><p>如果导入了一个包，但是未使用，Go 语言在编译时也会报错。但是存在一种情况：你只需要使用一个包中的 <code>init</code> 初始化函数，但是却不使用它，我们应该怎么做？针对这样的需求，Go 语言提供了 <code>_</code> 别名用于表示导入匿名包，如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=nx>_</span> <span class=s>&#34;GolangStudy/5-init/lib1&#34;</span>  <span class=c1>// 导入包执行init，但无法使用包中的方法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><p>除此之外，你也可以为导入的包设置一个正常的<strong class=chinese>别名</strong>。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=nx>mylib2</span> <span class=s>&#34;GolangStudy/5-init/lib2&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>mylib2</span><span class=p>.</span><span class=nf>Lib2Test</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>也可以通过 <code>.</code> 来设置一个无名的包。尽量少使用，避免有重名的方法，产生错误。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span> <span class=s>&#34;GolangStudy/5-init/lib2&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nf>Lib2Test</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><hr><p>参考课程：</p><ol><li><a href=https://www.bilibili.com/video/BV1gf4y1r79E>8小时转职Golang工程师</a></li><li><a href=https://www.runoob.com/go/go-tutorial.html>Go语言教程 | 菜鸟教程</a></li></ol></article><div class=paginator><a class=link href=https://blog.pi3.fun/post/2024/go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A87%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5/>← prev</a>
<a class=link href=https://blog.pi3.fun/post/2024/go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A89%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F/>next →</a></div><div class=comment><div id=tcomment></div><script src=https://registry.npmmirror.com/twikoo/1.6.39/files/dist/twikoo.min.js></script><script async>twikoo.init({envId:"https://twikoo.pi3.fun/.netlify/functions/twikoo",el:"#tcomment",lang:"zh-CN"})</script></div></main><footer id=footer><div><span style=display:flex;align-items:center><span style=margin-right:.5rem>© 2021 - 2025</span><img src=https://cdn.pi3.fun/static/rainbow.gif loading=lazy width=20 alt=rainbow><span style=margin-left:.5rem>By Liu Chao</span></span></div><div class=footnote><span><a href=https://www.foreverblog.cn/ target=_blank><img src=https://img.foreverblog.cn/logo_en_default.png style=width:auto;height:16px></a> | <a class=link href=https://blogscn.fun/ target=_blank><img src=https://photo.xiangming.site/img/blogscn.png style=width:auto;height:15px></a><br><a class=link href=/index.xml><span class="iconfont icon-RSS"></span></a> | <a class=link href=https://github.com/Pi3-l22 target=_ blank><span class="iconfont icon-GitHub"></span></a> | <a class=link href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel=noopener><span class="iconfont icon-creative-commons-fill"></span></a></span></div><div class=blog-icon></div></footer></div><script>document.addEventListener("DOMContentLoaded",function(){const n=localStorage.getItem("theme")||"light",e=document.querySelector('link[data-theme-style="light"]'),t=document.querySelector('link[data-theme-style="dark"]'),i=window.matchMedia("(prefers-color-scheme: dark)");i.addListener(function(n){if(!localStorage.getItem("theme")){const s=n.matches?"dark":"light";document.documentElement.setAttribute("data-theme",s),localStorage.setItem("theme",s),s==="light"?(e.media="all",t.media="not all"):(e.media="not all",t.media="all");const o=document.querySelector("iframe.giscus-frame");if(o){const e=s==="light"?"light_tritanopia":"dark_tritanopia";o.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}}}),n==="light"?(e.media="all",t.media="not all"):(e.media="not all",t.media="all");function o(){const e=document.querySelector("iframe.giscus-frame");if(e){const t=n==="light"?"light_tritanopia":"dark_tritanopia";e.contentWindow.postMessage({giscus:{setConfig:{theme:t}}},"https://giscus.app")}else setTimeout(o,1e3)}o();const s=document.querySelector(".theme-toggle");s&&(s.textContent=n==="light"?"黑暗":"明亮",s.addEventListener("click",function(){const o=document.documentElement.getAttribute("data-theme"),n=o==="light"?"dark":"light";document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n),n==="light"?(e.media="all",t.media="not all"):(e.media="not all",t.media="all");const s=document.querySelector("iframe.giscus-frame");if(s){const e=n==="light"?"light_tritanopia":"dark_tritanopia";s.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}this.textContent=n==="light"?"黑暗":"明亮"}))})</script><script src=https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){confetti({particleCount:150,spread:100})})</script></body></html>