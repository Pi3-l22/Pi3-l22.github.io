<!doctype html><html lang=zh-cn><head><script>(function(){const e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e)})()</script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=author content="LiuChao"><meta name=description content="Go 语言入门基础学习笔记之 Go 语言的字符串"><link rel=icon href=https://blog.pi3.fun/favicon.ico><meta name=keywords content=" study  latex  life  academic "><meta property="og:url" content="https://blog.pi3.fun/post/2024/go-beginner-notes/strings/"><meta property="og:site_name" content="Pi3's Notes"><meta property="og:title" content="Go语言入门13：字符串"><meta property="og:description" content="Go 语言入门基础学习笔记之 Go 语言的字符串"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-11-18T00:00:00+00:00"><meta property="article:modified_time" content="2024-11-18T00:00:00+00:00"><meta property="article:tag" content="技术"><meta property="article:tag" content="Golang"><meta property="article:tag" content="Go 入门笔记"><link rel=canonical href=https://blog.pi3.fun/post/2024/go-beginner-notes/strings/><meta itemprop=name content="Go语言入门13：字符串"><meta itemprop=description content="Go 语言入门基础学习笔记之 Go 语言的字符串"><meta itemprop=datePublished content="2024-11-18T00:00:00+00:00"><meta itemprop=dateModified content="2024-11-18T00:00:00+00:00"><meta itemprop=wordCount content="1548"><meta itemprop=keywords content="技术,Golang,Go 入门笔记"><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/common.css><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/content.css><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/theme.css><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/iconfont/iconfont.css><link rel=stylesheet href=https://blog.pi3.fun/css/syntax/xcode.css data-theme-style=light media="(prefers-color-scheme: light)"><link rel=stylesheet href=https://blog.pi3.fun/css/syntax/catppuccin-mocha.css data-theme-style=dark media="not all"><title>Go语言入门13：字符串 - Pi3's Notes</title>
<link rel=stylesheet href=https://blog.pi3.fun/css/single.css><link href=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-100-y/KaTeX/0.15.2/katex.min.css rel=stylesheet><script defer src=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-100-y/KaTeX/0.15.2/katex.min.js></script><script defer src=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-100-y/KaTeX/0.15.2/contrib/auto-render.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}],ignoredTags:["script","noscript","style","textarea","pre","code","option"],throwOnError:!1})})</script></head><body><div id=wrapper><header id=header><link rel=stylesheet href=https://chinese-fonts-cdn.deno.dev/packages/lxgwwenkaibright/dist/LXGWBright-Regular/result.css><link rel=stylesheet href=https://chinese-fonts-cdn.deno.dev/packages/lxgwwenkaibright/dist/LXGWBright-Italic/result.css><link rel=stylesheet href=https://chinese-fonts-cdn.deno.dev/packages/maple-mono-cn/dist/MapleMono-CN-Regular/result.css><h1><a href=https://blog.pi3.fun/>Pi3's Notes</a></h1><nav><span class=nav-bar-item><a class=link href=/>文章</a>
</span><span class=nav-bar-item><a class=link href=https://www.boyouquan.com/planet-shuttle>穿梭</a>
</span><span class=nav-bar-item><a class=link href=/about/>关于</a>
</span><span class=nav-bar-item><a class=link href=/links/>友链</a>
</span><span class=nav-bar-item><a class="link theme-toggle" href=javascript:void(0);>黑暗</a></span></nav></header><main id=main class=post><h1>Go语言入门13：字符串</h1><div><b>Keywords: </b><a class=link href=https://blog.pi3.fun/tags/%E6%8A%80%E6%9C%AF>#技术</a>
<a class=link href=https://blog.pi3.fun/tags/golang>#Golang</a>
<a class=link href=https://blog.pi3.fun/tags/go-%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0>#Go 入门笔记</a></div><div><b>Release Date: </b><span>2024-11-18</span></div><details><summary><b>Table of Contents</b></summary><div class=toc><nav id=TableOfContents><ul><li><a href=#字符串>字符串</a><ul><li><a href=#字符>字符</a></li><li><a href=#字符串string>字符串（string）</a></li><li><a href=#字符串基本操作>字符串基本操作</a></li><li><a href=#注意点>注意点</a></li></ul></li></ul></nav></div></details><article class=content><p>Go 语言入门基础学习笔记之 Go 语言的字符串</p><p><img src=https://cdn.pi3.fun/blog/golang.png alt=golang></p><h2 id=字符串>字符串</h2><h3 id=字符>字符</h3><ul><li><strong class=chinese>定义</strong>：在 Go 中，字符使用 <code>rune</code> 类型表示，实际上是一个 <code>int32</code>，用于表示 Unicode 代码点。</li><li><strong class=chinese>声明</strong>：可以直接使用字符字面量，使用单引号包围。例如：</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>c</span> <span class=kt>rune</span> <span class=p>=</span> <span class=sc>&#39;A&#39;</span>
</span></span></code></pre></div><h3 id=字符串string>字符串（string）</h3><ul><li><strong class=chinese>定义</strong>：字符串是由零个或多个字节组成的不可变的序列。它是 Go 的基本数据类型。</li><li><strong class=chinese>声明</strong>：使用双引号 <code>" "</code> 包围。例如：</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>s</span> <span class=kt>string</span> <span class=p>=</span> <span class=s>&#34;Hello, World!&#34;</span>
</span></span></code></pre></div><ul><li>字符串可以用双引号 <code>" "</code> 或反引号 <code>`</code> 包围。</li><li>字符串可以包含转义字符，如 <code>\n</code> 表示换行，<code>\t</code> 表示制表符等。通过开头加 <code>r</code> 来取消转义（与 python 一样）。</li><li>字符串也可以包含 Unicode 字符，如 <code>\u0041</code> 表示大写字母 A。</li></ul><h3 id=字符串基本操作>字符串基本操作</h3><p><strong class=chinese>长度</strong>：可以使用 <code>len()</code> 函数获取字符串的字节数。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>length</span> <span class=o>:=</span> <span class=nb>len</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span>  <span class=c1>// 返回字节数
</span></span></span></code></pre></div><p><strong class=chinese>索引</strong>：可以通过索引访问字符串中的字符（字节）。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>firstChar</span> <span class=o>:=</span> <span class=nx>s</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>  <span class=c1>// 获取第一个字节
</span></span></span></code></pre></div><p><strong class=chinese>字符到字符串</strong>：可以通过 <code>string()</code> 函数将 <code>rune</code> 转换为字符串。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>s2</span> <span class=o>:=</span> <span class=nb>string</span><span class=p>(</span><span class=nx>c</span><span class=p>)</span>  <span class=c1>// 将 rune 转换为字符串
</span></span></span></code></pre></div><p><strong class=chinese>字符串到字符</strong>：可以通过索引将字符串转换为 <code>rune</code>。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>char</span> <span class=o>:=</span> <span class=nx>s</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>  <span class=c1>// 获取字符串的第一个字符（字节）
</span></span></span></code></pre></div><hr><p><strong class=chinese>字符串拼接</strong>：使用 <code>+</code> 运算符可以拼接字符串。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>s3</span> <span class=o>:=</span> <span class=nx>s</span> <span class=o>+</span> <span class=s>&#34; How are you?&#34;</span>
</span></span></code></pre></div><blockquote><p>但这种方式在循环中效率较低，因为每次连接都会创建新的字符串。更高效的方法是使用 <code>strings.Builder</code> 或 <code>bytes.Buffer</code> 来构建字符串，因为它们在内部管理内存，从而减少了内存分配和复制的次数。</p></blockquote><ol><li><code>strings.Builder</code> 是一个提供高效字符串拼接的类型，适用于构建字符串而不是重复的字符串连接。</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// 创建 Builder 实例
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>b</span> <span class=nx>strings</span><span class=p>.</span><span class=nx>Builder</span>
</span></span><span class=line><span class=cl><span class=c1>// 可以使用 `WriteString` 方法将字符串添加到 Builder 中
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>b</span><span class=p>.</span><span class=nf>WriteString</span><span class=p>(</span><span class=s>&#34;Hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>b</span><span class=p>.</span><span class=nf>WriteString</span><span class=p>(</span><span class=s>&#34;, &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>b</span><span class=p>.</span><span class=nf>WriteString</span><span class=p>(</span><span class=s>&#34;World!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// 使用 `String()` 方法获取最终构建的字符串
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>result</span> <span class=o>:=</span> <span class=nx>b</span><span class=p>.</span><span class=nf>String</span><span class=p>()</span>  <span class=c1>// &#34;Hello, World!&#34;
</span></span></span><span class=line><span class=cl><span class=c1>// 如果需要重用同一个 Builder，可以使用 `Reset()` 方法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>b</span><span class=p>.</span><span class=nf>Reset</span><span class=p>()</span>  <span class=c1>// 清空 Builder 的内容
</span></span></span></code></pre></div><p>其优点在于：1. <strong class=chinese>高效</strong>：相较于直接拼接字符串，<code>strings.Builder</code> 通过预分配内存来减少内存分配的数量。2. <strong class=chinese>简单易用</strong>：提供了简单的 API，方便进行字符串构建。</p><ol start=2><li><code>bytes.Buffer</code> 是一个字节缓冲区，通常用于处理字节流，但也可以用于构建字符串。</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// 创建 Buffer 实例
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>buf</span> <span class=nx>bytes</span><span class=p>.</span><span class=nx>Buffer</span>
</span></span><span class=line><span class=cl><span class=c1>// 可以使用 `Write` 或 `WriteString` 方法将数据添加到 Buffer 中
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>buf</span><span class=p>.</span><span class=nf>WriteString</span><span class=p>(</span><span class=s>&#34;Hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>buf</span><span class=p>.</span><span class=nf>Write</span><span class=p>([]</span><span class=nb>byte</span><span class=p>(</span><span class=s>&#34;, &#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nx>buf</span><span class=p>.</span><span class=nf>WriteString</span><span class=p>(</span><span class=s>&#34;World!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// 使用 `String()` 方法获取构建的字符串
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>result</span> <span class=o>:=</span> <span class=nx>buf</span><span class=p>.</span><span class=nf>String</span><span class=p>()</span>  <span class=c1>// &#34;Hello, World!&#34;
</span></span></span><span class=line><span class=cl><span class=c1>// 使用 `Reset()` 方法可以清空 Buffer 的内容
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>buf</span><span class=p>.</span><span class=nf>Reset</span><span class=p>()</span>  <span class=c1>// 清空 Buffer
</span></span></span></code></pre></div><p>其优点在于：1. <strong class=chinese>灵活性</strong>：<code>bytes.Buffer</code> 可以处理字节数据，适合需要处理原始字节流的场景。2. <strong class=chinese>高性能</strong>：适合需要频繁添加数据的场景，可以减少内存分配和复制。</p><p>实例：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;bytes&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;strings&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 使用 strings.Builder
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>var</span> <span class=nx>sb</span> <span class=nx>strings</span><span class=p>.</span><span class=nx>Builder</span>
</span></span><span class=line><span class=cl>    <span class=nx>sb</span><span class=p>.</span><span class=nf>WriteString</span><span class=p>(</span><span class=s>&#34;Hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>sb</span><span class=p>.</span><span class=nf>WriteString</span><span class=p>(</span><span class=s>&#34;, &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>sb</span><span class=p>.</span><span class=nf>WriteString</span><span class=p>(</span><span class=s>&#34;World!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>sb</span><span class=p>.</span><span class=nf>String</span><span class=p>())</span>  <span class=c1>// 输出: Hello, World!
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// 使用 bytes.Buffer
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>var</span> <span class=nx>buf</span> <span class=nx>bytes</span><span class=p>.</span><span class=nx>Buffer</span>
</span></span><span class=line><span class=cl>    <span class=nx>buf</span><span class=p>.</span><span class=nf>WriteString</span><span class=p>(</span><span class=s>&#34;Hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>buf</span><span class=p>.</span><span class=nf>Write</span><span class=p>([]</span><span class=nb>byte</span><span class=p>(</span><span class=s>&#34;, &#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=nx>buf</span><span class=p>.</span><span class=nf>WriteString</span><span class=p>(</span><span class=s>&#34;World!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>buf</span><span class=p>.</span><span class=nf>String</span><span class=p>())</span>  <span class=c1>// 输出: Hello, World!
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 输出结果
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>Hello</span><span class=p>,</span> <span class=nx>World</span><span class=p>!</span>
</span></span><span class=line><span class=cl><span class=nx>Hello</span><span class=p>,</span> <span class=nx>World</span><span class=p>!</span>
</span></span></code></pre></div><hr><p><strong class=chinese>字符串切片</strong>：可以使用<a href=#%E5%88%87%E7%89%87%20Slice>切片语法</a> 获取字符串的子串。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>sub</span> <span class=o>:=</span> <span class=nx>s</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>5</span><span class=p>]</span>  <span class=c1>// 获取子串 &#34;Hello&#34;
</span></span></span></code></pre></div><blockquote><p>字符串可以转换为字节切片（<code>[]byte</code>），这在处理非 UTF-8 编码的数据时非常有用。同时可以使用 <code>string(b)</code> 将字节切片转换回字符串。</p></blockquote><p><strong class=chinese>字符串遍历</strong>：使用 <code>for</code> 循环和 <code>range</code> 可以遍历字符串中的字符，注意它会正确处理 Unicode 字符。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>for</span> <span class=nx>i</span><span class=p>,</span> <span class=nx>c</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>s</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Index: %d, Character: %c\n&#34;</span><span class=p>,</span> <span class=nx>i</span><span class=p>,</span> <span class=nx>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><blockquote><p>使用 <code>for</code> 循环遍历字符串中的每个字符，但需要注意，这将按字节遍历，而不是按 Unicode 码点。因此需要使用 <code>range</code>，它会正确处理多字节字符。</p></blockquote><p><strong class=chinese>字符串比较</strong>：可以直接使用 <code>==</code> 和 <code>!=</code> 运算符对字符串进行比较。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>if</span> <span class=nx>s</span> <span class=o>==</span> <span class=s>&#34;Hello, World!&#34;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Strings are equal&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p><strong class=chinese>字符串常用函数</strong>：</p><ul><li><code>len(s)</code>：返回字符串 <code>s</code> 的长度。</li><li><code>strings.Contains(s, substr)</code>：检查字符串 <code>s</code> 是否包含子串 <code>substr</code>。</li><li><code>strings.HasPrefix(s, prefix)</code> 和 <code>strings.HasSuffix(s, suffix)</code>：检查字符串 <code>s</code> 是否以 <code>prefix</code> 开头或以 <code>suffix</code> 结尾。</li><li><code>strings.Index(s, substr)</code>：返回子串 <code>substr</code> 在字符串 <code>s</code> 中首次出现的位置。</li><li><code>strings.Join(a, sep)</code>：将字符串切片 <code>a</code> 用 <code>sep</code> 连接起来。</li><li><code>strings.Split(s, sep)</code>：将字符串 <code>s</code> 按照 <code>sep</code> 分割成字符串切片。</li><li><code>strings.ToLower(s)</code> 和 <code>strings.ToUpper(s)</code>：将字符串 <code>s</code> 转换为全小写或全大写。</li></ul><h3 id=注意点>注意点</h3><ul><li>字符串是<strong class=chinese>不可变</strong>的，任何对字符串的<strong class=chinese>修改</strong>都会生成一个<strong class=chinese>新的字符串</strong>。</li><li>使用 <code>len()</code> 获取的是<strong class=chinese>字节数</strong>，而不是<strong class=chinese>字符数</strong>，如果字符串中包含多字节的 Unicode 字符，可能会导致混淆。</li><li>Go 语言的字符串以 UTF-8 编码，这意味着一个 Unicode 字符可能由多个字节表示。</li><li>使用 <code>rune</code> 类型来处理多字节字符，<code>rune</code> 是 <code>int32</code> 的别名，用于表示 Unicode 码点。</li></ul><hr><p>参考课程：</p><ol><li><a href=https://www.bilibili.com/video/BV1gf4y1r79E>8小时转职Golang工程师</a></li><li><a href=https://www.runoob.com/go/go-tutorial.html>Go语言教程 | 菜鸟教程</a></li></ol></article><div class=paginator><a class=link href=https://blog.pi3.fun/post/2024/11/go-serialization-issue/>← prev</a>
<a class=link href=https://blog.pi3.fun/post/2024/go-beginner-notes/range/>next →</a></div><div class=comment><div id=tcomment></div><script src=https://registry.npmmirror.com/twikoo/1.6.39/files/dist/twikoo.min.js></script><script async>twikoo.init({envId:"https://twikoo.pi3.fun/.netlify/functions/twikoo",el:"#tcomment",lang:"zh-CN"})</script></div></main><footer id=footer><div><span style=display:flex;align-items:center><span style=margin-right:.5rem>© 2021 - 2025</span><img src=https://cdn.pi3.fun/static/rainbow.gif loading=lazy width=20 alt=rainbow><span style=margin-left:.5rem>By Liu Chao</span></span></div><div class=footnote><span><a href=https://foreverblog.cn/go.html target=_blank><img src=https://img.foreverblog.cn/logo_en_default.png style=width:auto;height:16px></a> |
<a href=https://www.boyouquan.com/planet-shuttle style="font-size:16px;background-image:linear-gradient(to right,#d55b5b,#4d14e6);background-clip:text;color:transparent;target=" _blank"">博友圈·星球穿梭</a><br><a class=link href=/index.xml><span class="iconfont icon-RSS"></span></a> | <a class=link href=https://github.com/Pi3-l22 target=_ blank><span class="iconfont icon-GitHub"></span></a> | <a class=link href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel=noopener><span class="iconfont icon-creative-commons-fill"></span></a></span></div><div class=blog-icon></div></footer></div><script>document.addEventListener("DOMContentLoaded",function(){const n=localStorage.getItem("theme")||"light",e=document.querySelector('link[data-theme-style="light"]'),t=document.querySelector('link[data-theme-style="dark"]'),i=window.matchMedia("(prefers-color-scheme: dark)");i.addListener(function(n){if(!localStorage.getItem("theme")){const s=n.matches?"dark":"light";document.documentElement.setAttribute("data-theme",s),localStorage.setItem("theme",s),s==="light"?(e.media="all",t.media="not all"):(e.media="not all",t.media="all");const o=document.querySelector("iframe.giscus-frame");if(o){const e=s==="light"?"light_tritanopia":"dark_tritanopia";o.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}}}),n==="light"?(e.media="all",t.media="not all"):(e.media="not all",t.media="all");function o(){const e=document.querySelector("iframe.giscus-frame");if(e){const t=n==="light"?"light_tritanopia":"dark_tritanopia";e.contentWindow.postMessage({giscus:{setConfig:{theme:t}}},"https://giscus.app")}else setTimeout(o,1e3)}o();const s=document.querySelector(".theme-toggle");s&&(s.textContent=n==="light"?"黑暗":"明亮",s.addEventListener("click",function(){const o=document.documentElement.getAttribute("data-theme"),n=o==="light"?"dark":"light";document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n),n==="light"?(e.media="all",t.media="not all"):(e.media="not all",t.media="all");const s=document.querySelector("iframe.giscus-frame");if(s){const e=n==="light"?"light_tritanopia":"dark_tritanopia";s.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}this.textContent=n==="light"?"黑暗":"明亮"}))})</script><script src=https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){confetti({particleCount:150,spread:100})})</script></body></html>