<!doctype html><html lang=zh-cn><head><script>(function(){const e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e)})()</script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=author content="LiuChao"><meta name=description content="Go 语言入门基础学习笔记之 Go 语言的接口"><link rel=icon href=https://blog.pi3.fun/favicon.ico><meta name=keywords content=" study  latex  life  academic "><meta property="og:url" content="https://blog.pi3.fun/post/2024/go-beginner-notes/interfaces/"><meta property="og:site_name" content="Pi3's Notes"><meta property="og:title" content="Go语言入门17：接口"><meta property="og:description" content="Go 语言入门基础学习笔记之 Go 语言的接口"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-11-23T00:00:00+00:00"><meta property="article:modified_time" content="2024-11-23T00:00:00+00:00"><meta property="article:tag" content="技术"><meta property="article:tag" content="Golang"><meta property="article:tag" content="Go入门笔记"><link rel=canonical href=https://blog.pi3.fun/post/2024/go-beginner-notes/interfaces/><meta itemprop=name content="Go语言入门17：接口"><meta itemprop=description content="Go 语言入门基础学习笔记之 Go 语言的接口"><meta itemprop=datePublished content="2024-11-23T00:00:00+00:00"><meta itemprop=dateModified content="2024-11-23T00:00:00+00:00"><meta itemprop=wordCount content="1729"><meta itemprop=keywords content="技术,Golang,Go入门笔记"><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/common.css><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/content.css><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/theme.css><link media=screen rel=stylesheet href=https://blog.pi3.fun/css/iconfont/iconfont.css><link rel=stylesheet href=https://blog.pi3.fun/css/syntax/xcode.css data-theme-style=light media="(prefers-color-scheme: light)"><link rel=stylesheet href=https://blog.pi3.fun/css/syntax/catppuccin-mocha.css data-theme-style=dark media="not all"><title>Go语言入门17：接口 - Pi3's Notes</title>
<link rel=stylesheet href=https://blog.pi3.fun/css/single.css><link href=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-100-y/KaTeX/0.15.2/katex.min.css rel=stylesheet><script defer src=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-100-y/KaTeX/0.15.2/katex.min.js></script><script defer src=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-100-y/KaTeX/0.15.2/contrib/auto-render.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}],ignoredTags:["script","noscript","style","textarea","pre","code","option"],throwOnError:!1})})</script></head><body><div id=wrapper><header id=header><link rel=stylesheet href=https://chinese-fonts-cdn.deno.dev/packages/lxgwwenkaibright/dist/LXGWBright-Regular/result.css><link rel=stylesheet href=https://chinese-fonts-cdn.deno.dev/packages/lxgwwenkaibright/dist/LXGWBright-Italic/result.css><link rel=stylesheet href=https://chinese-fonts-cdn.deno.dev/packages/maple-mono-cn/dist/MapleMono-CN-Regular/result.css><h1><a href=https://blog.pi3.fun/>Pi3's Notes</a></h1><nav><span class=nav-bar-item><a class=link href=/>文章</a>
</span><span class=nav-bar-item><a class=link href=https://www.boyouquan.com/planet-shuttle>穿梭</a>
</span><span class=nav-bar-item><a class=link href=/about/>关于</a>
</span><span class=nav-bar-item><a class=link href=/links/>友链</a>
</span><span class=nav-bar-item><a class="link theme-toggle" href=javascript:void(0);>黑暗</a></span></nav></header><main id=main class=post><h1>Go语言入门17：接口</h1><div><b>Keywords: </b><a class=link href=https://blog.pi3.fun/tags/%E6%8A%80%E6%9C%AF>#技术</a>
<a class=link href=https://blog.pi3.fun/tags/golang>#Golang</a>
<a class=link href=https://blog.pi3.fun/tags/go%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0>#Go入门笔记</a></div><div><b>Release Date: </b><span>2024-11-23</span></div><details><summary><b>Table of Contents</b></summary><div class=toc><nav id=TableOfContents><ul><li><a href=#接口>接口</a></li></ul></nav></div></details><article class=content><p>Go 语言入门基础学习笔记之 Go 语言的接口</p><p><img src=https://cdn.pi3.fun/blog/golang.png alt=golang></p><h2 id=接口>接口</h2><p>Go 语言提供了另外一种数据类型即<strong class=chinese>接口</strong>，它把所有的具有共性的方法定义在一起，<strong>任何结构体只要拥有了这些成员方法，我们就说这个结构体实现了这个接口</strong>。</p><blockquote><p>本质上接口是一个<strong class=chinese>指针</strong>，指向所包含的函数列表。因此接口也是一个<strong class=chinese>引用数据类型</strong>，在函数中直接传递原来的变量。</p></blockquote><p>接口可以让我们将<strong class=chinese>不同的类型</strong>绑定到<strong class=chinese>一组公共的方法</strong>上，从而实现<strong class=chinese>多态</strong>和<strong class=chinese>灵活</strong>的设计。</p><p>Go 语言中的接口是<strong class=chinese>隐式实现</strong>的，也就是说，如果一个类型实现了一个接口定义的所有方法，那么它就自动地实现了该接口。因此，我们可以通过将接口<strong class=chinese>作为参数</strong>来实现对不同类型的调用，从而实现<strong class=chinese>多态</strong>。</p><p>我们可以通过一下代码来检查这个<strong class=chinese>类型</strong>是否实现了<strong class=chinese>接口</strong>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>_</span> <span class=nx>Interface</span> <span class=p>=</span> <span class=p>(</span><span class=o>*</span><span class=nx>Type</span><span class=p>)(</span><span class=kc>nil</span><span class=p>)</span>
</span></span></code></pre></div><p>如果没有实现，则会抛出一个具体的错误，方便定位出错的地方。</p><blockquote><p>接口是一组方法的集合，与结构体不同的是，接口中不放成员变量，只放置方法。</p><p>实现接口中定义的所有方法，是实现（成为）这个接口的必须条件。</p><p>如果定义了一个空接口，则任何类型都实现（成为）了这个接口，相对于其他语言中的 <code>object</code>。</p><p>Go 语言自带了一个空接口类型 <code>any</code>，任何数据类型都属于一种 <code>any</code></p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=cm>/* 定义接口 */</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>interface_name</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>method_name1</span> <span class=p>[</span><span class=nx>return_type</span><span class=p>]</span>
</span></span><span class=line><span class=cl>   <span class=nx>method_name2</span> <span class=p>[</span><span class=nx>return_type</span><span class=p>]</span>
</span></span><span class=line><span class=cl>   <span class=nx>method_name3</span> <span class=p>[</span><span class=nx>return_type</span><span class=p>]</span>
</span></span><span class=line><span class=cl>   <span class=o>...</span>
</span></span><span class=line><span class=cl>   <span class=nx>method_namen</span> <span class=p>[</span><span class=nx>return_type</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/* 定义结构体 */</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>struct_name</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=cm>/* variables */</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/* 实现接口方法 */</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>struct_name_variable</span> <span class=nx>struct_name</span><span class=p>)</span> <span class=nf>method_name1</span><span class=p>()</span> <span class=p>[</span><span class=nx>return_type</span><span class=p>]</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=cm>/* 方法实现 */</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>struct_name_variable</span> <span class=nx>struct_name</span><span class=p>)</span> <span class=nf>method_namen</span><span class=p>()</span> <span class=p>[</span><span class=nx>return_type</span><span class=p>]</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=cm>/* 方法实现*/</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>实例 1：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 定义 Animal 接口，包含两个方法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Animal</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>Speak</span><span class=p>()</span> <span class=kt>string</span>  <span class=c1>// 动物发声方法，返回一个字符串
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nf>Eat</span><span class=p>(</span><span class=nx>food</span> <span class=kt>string</span><span class=p>)</span> <span class=kt>string</span> <span class=c1>// 动物吃东西方法，接受食物字符串并返回一个字符串
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 定义 Dog 结构体，表示狗
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Dog</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Name</span> <span class=kt>string</span> <span class=c1>// 狗的名字
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 定义 Cat 结构体，表示猫
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Cat</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Name</span> <span class=kt>string</span> <span class=c1>// 猫的名字
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 实现 Animal 接口的方法
</span></span></span><span class=line><span class=cl><span class=c1>// Dog 实现 Animal 接口的 Speak 方法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=p>(</span><span class=nx>d</span> <span class=nx>Dog</span><span class=p>)</span> <span class=nf>Speak</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s>&#34;Woof! My name is &#34;</span> <span class=o>+</span> <span class=nx>d</span><span class=p>.</span><span class=nx>Name</span> <span class=c1>// 返回狗的叫声和名字
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// Dog 实现 Animal 接口的 Eat 方法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=p>(</span><span class=nx>d</span> <span class=nx>Dog</span><span class=p>)</span> <span class=nf>Eat</span><span class=p>(</span><span class=nx>food</span> <span class=kt>string</span><span class=p>)</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>d</span><span class=p>.</span><span class=nx>Name</span> <span class=o>+</span> <span class=s>&#34; is eating &#34;</span> <span class=o>+</span> <span class=nx>food</span> <span class=c1>// 返回狗正在吃的食物
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// Cat 实现 Animal 接口的 Speak 方法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=p>(</span><span class=nx>c</span> <span class=nx>Cat</span><span class=p>)</span> <span class=nf>Speak</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s>&#34;Meow! My name is &#34;</span> <span class=o>+</span> <span class=nx>c</span><span class=p>.</span><span class=nx>Name</span> <span class=c1>// 返回猫的叫声和名字
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// Cat 实现 Animal 接口的 Eat 方法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=p>(</span><span class=nx>c</span> <span class=nx>Cat</span><span class=p>)</span> <span class=nf>Eat</span><span class=p>(</span><span class=nx>food</span> <span class=kt>string</span><span class=p>)</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>c</span><span class=p>.</span><span class=nx>Name</span> <span class=o>+</span> <span class=s>&#34; is eating &#34;</span> <span class=o>+</span> <span class=nx>food</span> <span class=c1>// 返回猫正在吃的食物
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// describeAnimal 函数展示 Animal 接口的特性
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>describeAnimal</span><span class=p>(</span><span class=nx>a</span> <span class=nx>Animal</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>.</span><span class=nf>Speak</span><span class=p>())</span> <span class=c1>// 调用 Speak 方法，并打印返回值
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>.</span><span class=nf>Eat</span><span class=p>(</span><span class=s>&#34;food&#34;</span><span class=p>))</span> <span class=c1>// 调用 Eat 方法，并打印返回值，传入字符串 &#34;food&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 创建一个 Dog 实例
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>dog</span> <span class=o>:=</span> <span class=nx>Dog</span><span class=p>{</span><span class=nx>Name</span><span class=p>:</span> <span class=s>&#34;Buddy&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 创建一个 Cat 实例
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>cat</span> <span class=o>:=</span> <span class=nx>Cat</span><span class=p>{</span><span class=nx>Name</span><span class=p>:</span> <span class=s>&#34;Whiskers&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 调用 describeAnimal 函数，展示狗的行为
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nf>describeAnimal</span><span class=p>(</span><span class=nx>dog</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 调用 describeAnimal 函数，展示猫的行为
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nf>describeAnimal</span><span class=p>(</span><span class=nx>cat</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 输出结果
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>Woof</span><span class=p>!</span> <span class=nx>My</span> <span class=nx>name</span> <span class=nx>is</span> <span class=nx>Buddy</span>
</span></span><span class=line><span class=cl><span class=nx>Buddy</span> <span class=nx>is</span> <span class=nx>eating</span> <span class=nx>food</span>     
</span></span><span class=line><span class=cl><span class=nx>Meow</span><span class=p>!</span> <span class=nx>My</span> <span class=nx>name</span> <span class=nx>is</span> <span class=nx>Whiskers</span>
</span></span><span class=line><span class=cl><span class=nx>Whiskers</span> <span class=nx>is</span> <span class=nx>eating</span> <span class=nx>food</span>
</span></span></code></pre></div><p>代码说明</p><ol><li><strong class=chinese>接口定义</strong>：<ul><li><code>Animal</code> 接口定义了两个方法 <code>Speak()</code> 和 <code>Eat(string)</code>，这两个方法是 <code>Animal</code> 接口的行为特点。</li></ul></li><li><strong class=chinese>结构体定义</strong>：<ul><li><code>Dog</code> 和 <code>Cat</code> 结构体分别代表不同的动物，它们都有一个 <code>Name</code> 字段。</li></ul></li><li><strong class=chinese>接口方法的实现</strong>：<ul><li><code>Dog</code> 和 <code>Cat</code> 都实现了 <code>Animal</code> 接口的方法。这展示了多态性，即不同的类型可以通过相同的接口进行操作。</li></ul></li><li><strong class=chinese>接口展示</strong>：<ul><li><code>describeAnimal</code> 函数接受一个 <code>Animal</code> 类型的参数，可以接收实现了 <code>Animal</code> 接口的任何类型，展示了接口的灵活性和可扩展性。</li></ul></li><li><strong class=chinese>主函数</strong>：<ul><li>在 <code>main</code> 函数中，创建了 <code>Dog</code> 和 <code>Cat</code> 的实例，并调用 <code>describeAnimal</code> 函数，展示了不同动物的行为。</li></ul></li></ol><p>实例 2：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 定义一个 Shape 接口，包含一个计算面积的方法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Shape</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>area</span><span class=p>()</span> <span class=kt>float64</span> <span class=c1>// 声明 area 方法，返回值为 float64
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 定义一个 Rectangle 结构体，表示矩形
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Rectangle</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>width</span>  <span class=kt>float64</span> <span class=c1>// 矩形的宽度
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>height</span> <span class=kt>float64</span> <span class=c1>// 矩形的高度
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 为 Rectangle 结构体实现 area 方法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=nx>Rectangle</span><span class=p>)</span> <span class=nf>area</span><span class=p>()</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>r</span><span class=p>.</span><span class=nx>width</span> <span class=o>*</span> <span class=nx>r</span><span class=p>.</span><span class=nx>height</span> <span class=c1>// 返回矩形的面积
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 定义一个 Circle 结构体，表示圆形
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Circle</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>radius</span> <span class=kt>float64</span> <span class=c1>// 圆形的半径
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 为 Circle 结构体实现 area 方法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=p>(</span><span class=nx>c</span> <span class=nx>Circle</span><span class=p>)</span> <span class=nf>area</span><span class=p>()</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mf>3.14</span> <span class=o>*</span> <span class=nx>c</span><span class=p>.</span><span class=nx>radius</span> <span class=o>*</span> <span class=nx>c</span><span class=p>.</span><span class=nx>radius</span> <span class=c1>// 返回圆形的面积，使用 π ≈ 3.14
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>s</span> <span class=nx>Shape</span> <span class=c1>// 声明一个 Shape 类型的变量 s
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// 将 s 指向一个 Rectangle 实例
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>s</span> <span class=p>=</span> <span class=nx>Rectangle</span><span class=p>{</span><span class=nx>width</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>height</span><span class=p>:</span> <span class=mi>5</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 调用 area 方法并打印矩形的面积
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;矩形面积: %f\n&#34;</span><span class=p>,</span> <span class=nx>s</span><span class=p>.</span><span class=nf>area</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 将 s 指向一个 Circle 实例
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>s</span> <span class=p>=</span> <span class=nx>Circle</span><span class=p>{</span><span class=nx>radius</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 调用 area 方法并打印圆形的面积
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;圆形面积: %f\n&#34;</span><span class=p>,</span> <span class=nx>s</span><span class=p>.</span><span class=nf>area</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 输出结果
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>矩形面积</span><span class=p>:</span> <span class=mf>50.000000</span>
</span></span><span class=line><span class=cl><span class=nx>圆形面积</span><span class=p>:</span> <span class=mf>28.260000</span>
</span></span></code></pre></div><p>以上实例中，我们定义了一个 <code>Shape</code> 接口，它定义了一个方法 <code>area()</code>，该方法返回一个 <code>float64</code> 类型的面积值。然后，我们定义了两个结构体 <code>Rectangle</code> 和 <code>Circle</code>，它们分别实现了 <code>Shape</code> 接口的 <code>area()</code> 方法。在 <code>main()</code> 函数中，我们首先定义了一个 <code>Shape</code> 类型的变量 <code>s</code>，然后分别将 <code>Rectangle</code> 和 <code>Circle</code> 类型的实例赋值给它，并通过 <code>area()</code> 方法计算它们的面积并打印出来。</p><blockquote><p>需要注意的是，接口类型变量可以存储<strong class=chinese>任何</strong>实现了该接口的类型的值。在示例中，我们将 <code>Rectangle</code> 和 <code>Circle</code> 类型的实例都赋值给了 <code>Shape</code> 类型的变量 <code>s</code>，并通过 <code>area()</code> 方法调用它们的面积计算方法。</p></blockquote><hr><p>参考课程：</p><ol><li><a href=https://www.bilibili.com/video/BV1gf4y1r79E>8小时转职Golang工程师</a></li><li><a href=https://www.runoob.com/go/go-tutorial.html>Go语言教程 | 菜鸟教程</a></li></ol></article><div class=paginator><a class=link href=https://blog.pi3.fun/post/2024/go-beginner-notes/structs/>← prev</a>
<a class=link href=https://blog.pi3.fun/post/qrecrypt/fileserver/>next →</a></div><div class=comment><div id=tcomment></div><script src=https://registry.npmmirror.com/twikoo/1.6.39/files/dist/twikoo.min.js></script><script async>twikoo.init({envId:"https://twikoo.pi3.fun/.netlify/functions/twikoo",el:"#tcomment",lang:"zh-CN"})</script></div></main><footer id=footer><div><span style=display:flex;align-items:center><span style=margin-right:.5rem>© 2021 - 2026</span><img src=https://cdn.pi3.fun/static/rainbow.gif loading=lazy width=20 alt=rainbow><span style=margin-left:.5rem>By Liu Chao</span></span></div><div class=footnote><span><a href=https://foreverblog.cn/go.html target=_blank><img src=https://img.foreverblog.cn/logo_en_default.png style=width:auto;height:16px></a> |
<a href=https://www.boyouquan.com/planet-shuttle style="font-size:16px;background-image:linear-gradient(to right,#d55b5b,#4d14e6);background-clip:text;color:transparent;target=" _blank"">博友圈·星球穿梭</a><br><a class=link href=/index.xml><span class="iconfont icon-RSS"></span></a> | <a class=link href=https://github.com/Pi3-l22 target=_ blank><span class="iconfont icon-GitHub"></span></a> | <a class=link href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel=noopener><span class="iconfont icon-creative-commons-fill"></span></a></span></div><div class=blog-icon></div></footer></div><script>document.addEventListener("DOMContentLoaded",function(){const n=localStorage.getItem("theme")||"light",e=document.querySelector('link[data-theme-style="light"]'),t=document.querySelector('link[data-theme-style="dark"]'),i=window.matchMedia("(prefers-color-scheme: dark)");i.addListener(function(n){if(!localStorage.getItem("theme")){const s=n.matches?"dark":"light";document.documentElement.setAttribute("data-theme",s),localStorage.setItem("theme",s),s==="light"?(e.media="all",t.media="not all"):(e.media="not all",t.media="all");const o=document.querySelector("iframe.giscus-frame");if(o){const e=s==="light"?"light_tritanopia":"dark_tritanopia";o.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}}}),n==="light"?(e.media="all",t.media="not all"):(e.media="not all",t.media="all");function o(){const e=document.querySelector("iframe.giscus-frame");if(e){const t=n==="light"?"light_tritanopia":"dark_tritanopia";e.contentWindow.postMessage({giscus:{setConfig:{theme:t}}},"https://giscus.app")}else setTimeout(o,1e3)}o();const s=document.querySelector(".theme-toggle");s&&(s.textContent=n==="light"?"黑暗":"明亮",s.addEventListener("click",function(){const o=document.documentElement.getAttribute("data-theme"),n=o==="light"?"dark":"light";document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n),n==="light"?(e.media="all",t.media="not all"):(e.media="not all",t.media="all");const s=document.querySelector("iframe.giscus-frame");if(s){const e=n==="light"?"light_tritanopia":"dark_tritanopia";s.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}this.textContent=n==="light"?"黑暗":"明亮"}))})</script><script src=https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){confetti({particleCount:150,spread:100})})</script></body></html>